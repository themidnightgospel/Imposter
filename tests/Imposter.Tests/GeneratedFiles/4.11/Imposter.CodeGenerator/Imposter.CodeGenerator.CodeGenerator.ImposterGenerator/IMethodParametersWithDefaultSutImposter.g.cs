// <auto-generated />
#nullable enable
using global::System;
using global::System.Linq;
using global::System.Collections.Generic;
using global::System.Threading.Tasks;
using global::System.Diagnostics;
using global::System.Runtime.CompilerServices;
using global::Imposter.Abstractions;
using global::System.Collections.Concurrent;
using global::Imposter.Tests.Features.MethodImpersonation;

namespace Imposter.Tests.Features.MethodImpersonation
{
    [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
    public sealed class IMethodParametersWithDefaultSutImposter : global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Features.MethodImpersonation.IMethodParametersWithDefaultSut>
    {
        private readonly BoolDefaultMethodImposter _boolDefaultMethodImposter;
        private readonly IntDefaultMethodImposter _intDefaultMethodImposter;
        private readonly DoubleDefaultMethodImposter _doubleDefaultMethodImposter;
        private readonly NullableDefaultMethodImposter _nullableDefaultMethodImposter;
        private readonly FloatDefaultMethodImposter _floatDefaultMethodImposter;
        private readonly DecimalDefaultMethodImposter _decimalDefaultMethodImposter;
        private readonly CharDefaultMethodImposter _charDefaultMethodImposter;
        private readonly EnumDefaultMethodImposter _enumDefaultMethodImposter;
        private readonly NameDefaultMethodImposter _nameDefaultMethodImposter;
        private readonly NullableRefMethodImposter _nullableRefMethodImposter;
        private readonly NullableOutMethodImposter _nullableOutMethodImposter;
        private readonly NullableInMethodImposter _nullableInMethodImposter;
        private readonly NullableParamsMethodImposter _nullableParamsMethodImposter;
        private readonly BoolDefaultMethodInvocationHistoryCollection _boolDefaultMethodInvocationHistoryCollection = new BoolDefaultMethodInvocationHistoryCollection();
        private readonly IntDefaultMethodInvocationHistoryCollection _intDefaultMethodInvocationHistoryCollection = new IntDefaultMethodInvocationHistoryCollection();
        private readonly DoubleDefaultMethodInvocationHistoryCollection _doubleDefaultMethodInvocationHistoryCollection = new DoubleDefaultMethodInvocationHistoryCollection();
        private readonly NullableDefaultMethodInvocationHistoryCollection _nullableDefaultMethodInvocationHistoryCollection = new NullableDefaultMethodInvocationHistoryCollection();
        private readonly FloatDefaultMethodInvocationHistoryCollection _floatDefaultMethodInvocationHistoryCollection = new FloatDefaultMethodInvocationHistoryCollection();
        private readonly DecimalDefaultMethodInvocationHistoryCollection _decimalDefaultMethodInvocationHistoryCollection = new DecimalDefaultMethodInvocationHistoryCollection();
        private readonly CharDefaultMethodInvocationHistoryCollection _charDefaultMethodInvocationHistoryCollection = new CharDefaultMethodInvocationHistoryCollection();
        private readonly EnumDefaultMethodInvocationHistoryCollection _enumDefaultMethodInvocationHistoryCollection = new EnumDefaultMethodInvocationHistoryCollection();
        private readonly NameDefaultMethodInvocationHistoryCollection _nameDefaultMethodInvocationHistoryCollection = new NameDefaultMethodInvocationHistoryCollection();
        private readonly NullableRefMethodInvocationHistoryCollection _nullableRefMethodInvocationHistoryCollection = new NullableRefMethodInvocationHistoryCollection();
        private readonly NullableOutMethodInvocationHistoryCollection _nullableOutMethodInvocationHistoryCollection = new NullableOutMethodInvocationHistoryCollection();
        private readonly NullableInMethodInvocationHistoryCollection _nullableInMethodInvocationHistoryCollection = new NullableInMethodInvocationHistoryCollection();
        private readonly NullableParamsMethodInvocationHistoryCollection _nullableParamsMethodInvocationHistoryCollection = new NullableParamsMethodInvocationHistoryCollection();
        public IBoolDefaultMethodImposterBuilder BoolDefault(global::Imposter.Abstractions.Arg<bool> flag)
        {
            return new BoolDefaultMethodImposter.Builder(_boolDefaultMethodImposter, _boolDefaultMethodInvocationHistoryCollection, new BoolDefaultArgumentsCriteria(flag));
        }

        public IIntDefaultMethodImposterBuilder IntDefault(global::Imposter.Abstractions.Arg<int> value)
        {
            return new IntDefaultMethodImposter.Builder(_intDefaultMethodImposter, _intDefaultMethodInvocationHistoryCollection, new IntDefaultArgumentsCriteria(value));
        }

        public IDoubleDefaultMethodImposterBuilder DoubleDefault(global::Imposter.Abstractions.Arg<double> value)
        {
            return new DoubleDefaultMethodImposter.Builder(_doubleDefaultMethodImposter, _doubleDefaultMethodInvocationHistoryCollection, new DoubleDefaultArgumentsCriteria(value));
        }

        public INullableDefaultMethodImposterBuilder NullableDefault(global::Imposter.Abstractions.Arg<string?> text)
        {
            return new NullableDefaultMethodImposter.Builder(_nullableDefaultMethodImposter, _nullableDefaultMethodInvocationHistoryCollection, new NullableDefaultArgumentsCriteria(text));
        }

        public IFloatDefaultMethodImposterBuilder FloatDefault(global::Imposter.Abstractions.Arg<float> value)
        {
            return new FloatDefaultMethodImposter.Builder(_floatDefaultMethodImposter, _floatDefaultMethodInvocationHistoryCollection, new FloatDefaultArgumentsCriteria(value));
        }

        public IDecimalDefaultMethodImposterBuilder DecimalDefault(global::Imposter.Abstractions.Arg<decimal> value)
        {
            return new DecimalDefaultMethodImposter.Builder(_decimalDefaultMethodImposter, _decimalDefaultMethodInvocationHistoryCollection, new DecimalDefaultArgumentsCriteria(value));
        }

        public ICharDefaultMethodImposterBuilder CharDefault(global::Imposter.Abstractions.Arg<char> value)
        {
            return new CharDefaultMethodImposter.Builder(_charDefaultMethodImposter, _charDefaultMethodInvocationHistoryCollection, new CharDefaultArgumentsCriteria(value));
        }

        public IEnumDefaultMethodImposterBuilder EnumDefault(global::Imposter.Abstractions.Arg<global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum> mode)
        {
            return new EnumDefaultMethodImposter.Builder(_enumDefaultMethodImposter, _enumDefaultMethodInvocationHistoryCollection, new EnumDefaultArgumentsCriteria(mode));
        }

        public INameDefaultMethodImposterBuilder NameDefault(global::Imposter.Abstractions.Arg<string> name)
        {
            return new NameDefaultMethodImposter.Builder(_nameDefaultMethodImposter, _nameDefaultMethodInvocationHistoryCollection, new NameDefaultArgumentsCriteria(name));
        }

        public INullableRefMethodImposterBuilder NullableRef(global::Imposter.Abstractions.Arg<string?> text)
        {
            return new NullableRefMethodImposter.Builder(_nullableRefMethodImposter, _nullableRefMethodInvocationHistoryCollection, new NullableRefArgumentsCriteria(text));
        }

        public INullableOutMethodImposterBuilder NullableOut(global::Imposter.Abstractions.OutArg<string?> text)
        {
            return new NullableOutMethodImposter.Builder(_nullableOutMethodImposter, _nullableOutMethodInvocationHistoryCollection);
        }

        public INullableInMethodImposterBuilder NullableIn(global::Imposter.Abstractions.Arg<string?> text)
        {
            return new NullableInMethodImposter.Builder(_nullableInMethodImposter, _nullableInMethodInvocationHistoryCollection, new NullableInArgumentsCriteria(text));
        }

        public INullableParamsMethodImposterBuilder NullableParams(global::Imposter.Abstractions.Arg<string? []> values)
        {
            return new NullableParamsMethodImposter.Builder(_nullableParamsMethodImposter, _nullableParamsMethodInvocationHistoryCollection, new NullableParamsArgumentsCriteria(values));
        }

        private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
        private ImposterTargetInstance _imposterInstance;
        global::Imposter.Tests.Features.MethodImpersonation.IMethodParametersWithDefaultSut global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Features.MethodImpersonation.IMethodParametersWithDefaultSut>.Instance()
        {
            return _imposterInstance;
        }

        public delegate int BoolDefaultDelegate(bool flag = true);
        public delegate void BoolDefaultCallbackDelegate(bool flag = true);
        public delegate global::System.Exception BoolDefaultExceptionGeneratorDelegate(bool flag = true);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class BoolDefaultArguments
        {
            public bool flag;
            internal BoolDefaultArguments(bool flag = true)
            {
                this.flag = flag;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class BoolDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<bool> flag { get; }

            public BoolDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<bool> flag)
            {
                this.flag = flag;
            }

            public bool Matches(BoolDefaultArguments arguments)
            {
                return flag.Matches(arguments.flag);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IBoolDefaultMethodInvocationHistory
        {
            bool Matches(BoolDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class BoolDefaultMethodInvocationHistory : IBoolDefaultMethodInvocationHistory
        {
            internal BoolDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public BoolDefaultMethodInvocationHistory(BoolDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(BoolDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "BoolDefault(" + global::System.String.Join(", ", new[] { "flag: " + FormatValue(Arguments.flag) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class BoolDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IBoolDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IBoolDefaultMethodInvocationHistory>();
            internal void Add(IBoolDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(BoolDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class BoolDefaultMethodInvocationImposterGroup
        {
            internal static BoolDefaultMethodInvocationImposterGroup Default = new BoolDefaultMethodInvocationImposterGroup(new BoolDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<bool>.Any()));
            internal BoolDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public BoolDefaultMethodInvocationImposterGroup(BoolDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, bool flag = true)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, flag);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private BoolDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<BoolDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<BoolDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, bool flag = true)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(flag);
                    foreach (var callback in _callbacks)
                    {
                        callback(flag);
                    }

                    return result;
                }

                internal void Callback(BoolDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(BoolDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (bool flag) =>
                    {
                        return value;
                    };
                }

                internal void Throws(BoolDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (bool flag) =>
                    {
                        throw exceptionGenerator(flag);
                    };
                }

                internal static int DefaultResultGenerator(bool flag = true)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IBoolDefaultMethodInvocationImposterGroupCallback
        {
            IBoolDefaultMethodInvocationImposterGroupContinuation Callback(BoolDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IBoolDefaultMethodInvocationImposterGroupContinuation : IBoolDefaultMethodInvocationImposterGroupCallback
        {
            IBoolDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IBoolDefaultMethodInvocationImposterGroup : IBoolDefaultMethodInvocationImposterGroupCallback
        {
            IBoolDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IBoolDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IBoolDefaultMethodInvocationImposterGroupContinuation Throws(BoolDefaultExceptionGeneratorDelegate exceptionGenerator);
            IBoolDefaultMethodInvocationImposterGroupContinuation Returns(BoolDefaultDelegate resultGenerator);
            IBoolDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface BoolDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IBoolDefaultMethodImposterBuilder : IBoolDefaultMethodInvocationImposterGroup, IBoolDefaultMethodInvocationImposterGroupCallback, BoolDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class BoolDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<BoolDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<BoolDefaultMethodInvocationImposterGroup>();
            private readonly BoolDefaultMethodInvocationHistoryCollection _boolDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public BoolDefaultMethodImposter(BoolDefaultMethodInvocationHistoryCollection _boolDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._boolDefaultMethodInvocationHistoryCollection = _boolDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(BoolDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private BoolDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(BoolDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(bool flag = true)
            {
                var arguments = new BoolDefaultArguments(flag);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.BoolDefault(bool flag = true)");
                    }

                    matchingInvocationImposterGroup = BoolDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.BoolDefault(bool flag = true)", flag);
                    _boolDefaultMethodInvocationHistoryCollection.Add(new BoolDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _boolDefaultMethodInvocationHistoryCollection.Add(new BoolDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IBoolDefaultMethodImposterBuilder, IBoolDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly BoolDefaultMethodImposter _imposter;
                private readonly BoolDefaultMethodInvocationHistoryCollection _boolDefaultMethodInvocationHistoryCollection;
                private readonly BoolDefaultArgumentsCriteria _argumentsCriteria;
                private readonly BoolDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private BoolDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(BoolDefaultMethodImposter _imposter, BoolDefaultMethodInvocationHistoryCollection _boolDefaultMethodInvocationHistoryCollection, BoolDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._boolDefaultMethodInvocationHistoryCollection = _boolDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new BoolDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((bool flag) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((bool flag) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroup.Throws(BoolDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((bool flag) =>
                    {
                        throw exceptionGenerator.Invoke(flag);
                    });
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroupCallback.Callback(BoolDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroup.Returns(BoolDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroupContinuation IBoolDefaultMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IBoolDefaultMethodInvocationImposterGroup IBoolDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void BoolDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _boolDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _boolDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int CharDefaultDelegate(char value = 'Z');
        public delegate void CharDefaultCallbackDelegate(char value = 'Z');
        public delegate global::System.Exception CharDefaultExceptionGeneratorDelegate(char value = 'Z');
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class CharDefaultArguments
        {
            public char value;
            internal CharDefaultArguments(char value = 'Z')
            {
                this.value = value;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class CharDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<char> value { get; }

            public CharDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<char> value)
            {
                this.value = value;
            }

            public bool Matches(CharDefaultArguments arguments)
            {
                return value.Matches(arguments.value);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICharDefaultMethodInvocationHistory
        {
            bool Matches(CharDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CharDefaultMethodInvocationHistory : ICharDefaultMethodInvocationHistory
        {
            internal CharDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public CharDefaultMethodInvocationHistory(CharDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(CharDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "CharDefault(" + global::System.String.Join(", ", new[] { "value: " + FormatValue(Arguments.value) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CharDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<ICharDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<ICharDefaultMethodInvocationHistory>();
            internal void Add(ICharDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(CharDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class CharDefaultMethodInvocationImposterGroup
        {
            internal static CharDefaultMethodInvocationImposterGroup Default = new CharDefaultMethodInvocationImposterGroup(new CharDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<char>.Any()));
            internal CharDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public CharDefaultMethodInvocationImposterGroup(CharDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, char value = 'Z')
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, value);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private CharDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<CharDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<CharDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, char value = 'Z')
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(value);
                    foreach (var callback in _callbacks)
                    {
                        callback(value);
                    }

                    return result;
                }

                internal void Callback(CharDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(CharDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value_1)
                {
                    _resultGenerator = (char value) =>
                    {
                        return value_1;
                    };
                }

                internal void Throws(CharDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (char value) =>
                    {
                        throw exceptionGenerator(value);
                    };
                }

                internal static int DefaultResultGenerator(char value = 'Z')
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICharDefaultMethodInvocationImposterGroupCallback
        {
            ICharDefaultMethodInvocationImposterGroupContinuation Callback(CharDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICharDefaultMethodInvocationImposterGroupContinuation : ICharDefaultMethodInvocationImposterGroupCallback
        {
            ICharDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICharDefaultMethodInvocationImposterGroup : ICharDefaultMethodInvocationImposterGroupCallback
        {
            ICharDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            ICharDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            ICharDefaultMethodInvocationImposterGroupContinuation Throws(CharDefaultExceptionGeneratorDelegate exceptionGenerator);
            ICharDefaultMethodInvocationImposterGroupContinuation Returns(CharDefaultDelegate resultGenerator);
            ICharDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface CharDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICharDefaultMethodImposterBuilder : ICharDefaultMethodInvocationImposterGroup, ICharDefaultMethodInvocationImposterGroupCallback, CharDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CharDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<CharDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<CharDefaultMethodInvocationImposterGroup>();
            private readonly CharDefaultMethodInvocationHistoryCollection _charDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public CharDefaultMethodImposter(CharDefaultMethodInvocationHistoryCollection _charDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._charDefaultMethodInvocationHistoryCollection = _charDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(CharDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private CharDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(CharDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(char value = 'Z')
            {
                var arguments = new CharDefaultArguments(value);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.CharDefault(char value = 'Z')");
                    }

                    matchingInvocationImposterGroup = CharDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.CharDefault(char value = 'Z')", value);
                    _charDefaultMethodInvocationHistoryCollection.Add(new CharDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _charDefaultMethodInvocationHistoryCollection.Add(new CharDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : ICharDefaultMethodImposterBuilder, ICharDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly CharDefaultMethodImposter _imposter;
                private readonly CharDefaultMethodInvocationHistoryCollection _charDefaultMethodInvocationHistoryCollection;
                private readonly CharDefaultArgumentsCriteria _argumentsCriteria;
                private readonly CharDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private CharDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(CharDefaultMethodImposter _imposter, CharDefaultMethodInvocationHistoryCollection _charDefaultMethodInvocationHistoryCollection, CharDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._charDefaultMethodInvocationHistoryCollection = _charDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new CharDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((char value) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((char value) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroup.Throws(CharDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((char value) =>
                    {
                        throw exceptionGenerator.Invoke(value);
                    });
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroupCallback.Callback(CharDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroup.Returns(CharDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroupContinuation ICharDefaultMethodInvocationImposterGroup.Returns(int value_1)
                {
                    _currentInvocationImposter.Returns(value_1);
                    return this;
                }

                ICharDefaultMethodInvocationImposterGroup ICharDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void CharDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _charDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _charDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int DecimalDefaultDelegate(decimal value = 12.5M);
        public delegate void DecimalDefaultCallbackDelegate(decimal value = 12.5M);
        public delegate global::System.Exception DecimalDefaultExceptionGeneratorDelegate(decimal value = 12.5M);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class DecimalDefaultArguments
        {
            public decimal value;
            internal DecimalDefaultArguments(decimal value = 12.5M)
            {
                this.value = value;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class DecimalDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<decimal> value { get; }

            public DecimalDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<decimal> value)
            {
                this.value = value;
            }

            public bool Matches(DecimalDefaultArguments arguments)
            {
                return value.Matches(arguments.value);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDecimalDefaultMethodInvocationHistory
        {
            bool Matches(DecimalDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DecimalDefaultMethodInvocationHistory : IDecimalDefaultMethodInvocationHistory
        {
            internal DecimalDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public DecimalDefaultMethodInvocationHistory(DecimalDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(DecimalDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "DecimalDefault(" + global::System.String.Join(", ", new[] { "value: " + FormatValue(Arguments.value) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DecimalDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IDecimalDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IDecimalDefaultMethodInvocationHistory>();
            internal void Add(IDecimalDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(DecimalDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class DecimalDefaultMethodInvocationImposterGroup
        {
            internal static DecimalDefaultMethodInvocationImposterGroup Default = new DecimalDefaultMethodInvocationImposterGroup(new DecimalDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<decimal>.Any()));
            internal DecimalDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public DecimalDefaultMethodInvocationImposterGroup(DecimalDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, decimal value = 12.5M)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, value);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private DecimalDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<DecimalDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<DecimalDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, decimal value = 12.5M)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(value);
                    foreach (var callback in _callbacks)
                    {
                        callback(value);
                    }

                    return result;
                }

                internal void Callback(DecimalDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(DecimalDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value_1)
                {
                    _resultGenerator = (decimal value) =>
                    {
                        return value_1;
                    };
                }

                internal void Throws(DecimalDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (decimal value) =>
                    {
                        throw exceptionGenerator(value);
                    };
                }

                internal static int DefaultResultGenerator(decimal value = 12.5M)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDecimalDefaultMethodInvocationImposterGroupCallback
        {
            IDecimalDefaultMethodInvocationImposterGroupContinuation Callback(DecimalDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDecimalDefaultMethodInvocationImposterGroupContinuation : IDecimalDefaultMethodInvocationImposterGroupCallback
        {
            IDecimalDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDecimalDefaultMethodInvocationImposterGroup : IDecimalDefaultMethodInvocationImposterGroupCallback
        {
            IDecimalDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IDecimalDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IDecimalDefaultMethodInvocationImposterGroupContinuation Throws(DecimalDefaultExceptionGeneratorDelegate exceptionGenerator);
            IDecimalDefaultMethodInvocationImposterGroupContinuation Returns(DecimalDefaultDelegate resultGenerator);
            IDecimalDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface DecimalDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDecimalDefaultMethodImposterBuilder : IDecimalDefaultMethodInvocationImposterGroup, IDecimalDefaultMethodInvocationImposterGroupCallback, DecimalDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DecimalDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<DecimalDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<DecimalDefaultMethodInvocationImposterGroup>();
            private readonly DecimalDefaultMethodInvocationHistoryCollection _decimalDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public DecimalDefaultMethodImposter(DecimalDefaultMethodInvocationHistoryCollection _decimalDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._decimalDefaultMethodInvocationHistoryCollection = _decimalDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(DecimalDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private DecimalDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(DecimalDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(decimal value = 12.5M)
            {
                var arguments = new DecimalDefaultArguments(value);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.DecimalDefault(decimal value = 12.5)");
                    }

                    matchingInvocationImposterGroup = DecimalDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.DecimalDefault(decimal value = 12.5)", value);
                    _decimalDefaultMethodInvocationHistoryCollection.Add(new DecimalDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _decimalDefaultMethodInvocationHistoryCollection.Add(new DecimalDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IDecimalDefaultMethodImposterBuilder, IDecimalDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly DecimalDefaultMethodImposter _imposter;
                private readonly DecimalDefaultMethodInvocationHistoryCollection _decimalDefaultMethodInvocationHistoryCollection;
                private readonly DecimalDefaultArgumentsCriteria _argumentsCriteria;
                private readonly DecimalDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private DecimalDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(DecimalDefaultMethodImposter _imposter, DecimalDefaultMethodInvocationHistoryCollection _decimalDefaultMethodInvocationHistoryCollection, DecimalDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._decimalDefaultMethodInvocationHistoryCollection = _decimalDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new DecimalDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((decimal value) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((decimal value) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroup.Throws(DecimalDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((decimal value) =>
                    {
                        throw exceptionGenerator.Invoke(value);
                    });
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroupCallback.Callback(DecimalDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroup.Returns(DecimalDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroupContinuation IDecimalDefaultMethodInvocationImposterGroup.Returns(int value_1)
                {
                    _currentInvocationImposter.Returns(value_1);
                    return this;
                }

                IDecimalDefaultMethodInvocationImposterGroup IDecimalDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void DecimalDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _decimalDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _decimalDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int DoubleDefaultDelegate(double value = 2.5);
        public delegate void DoubleDefaultCallbackDelegate(double value = 2.5);
        public delegate global::System.Exception DoubleDefaultExceptionGeneratorDelegate(double value = 2.5);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class DoubleDefaultArguments
        {
            public double value;
            internal DoubleDefaultArguments(double value = 2.5)
            {
                this.value = value;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class DoubleDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<double> value { get; }

            public DoubleDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<double> value)
            {
                this.value = value;
            }

            public bool Matches(DoubleDefaultArguments arguments)
            {
                return value.Matches(arguments.value);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoubleDefaultMethodInvocationHistory
        {
            bool Matches(DoubleDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoubleDefaultMethodInvocationHistory : IDoubleDefaultMethodInvocationHistory
        {
            internal DoubleDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public DoubleDefaultMethodInvocationHistory(DoubleDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(DoubleDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "DoubleDefault(" + global::System.String.Join(", ", new[] { "value: " + FormatValue(Arguments.value) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoubleDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IDoubleDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IDoubleDefaultMethodInvocationHistory>();
            internal void Add(IDoubleDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(DoubleDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class DoubleDefaultMethodInvocationImposterGroup
        {
            internal static DoubleDefaultMethodInvocationImposterGroup Default = new DoubleDefaultMethodInvocationImposterGroup(new DoubleDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<double>.Any()));
            internal DoubleDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public DoubleDefaultMethodInvocationImposterGroup(DoubleDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, double value = 2.5)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, value);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private DoubleDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<DoubleDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<DoubleDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, double value = 2.5)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(value);
                    foreach (var callback in _callbacks)
                    {
                        callback(value);
                    }

                    return result;
                }

                internal void Callback(DoubleDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(DoubleDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value_1)
                {
                    _resultGenerator = (double value) =>
                    {
                        return value_1;
                    };
                }

                internal void Throws(DoubleDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (double value) =>
                    {
                        throw exceptionGenerator(value);
                    };
                }

                internal static int DefaultResultGenerator(double value = 2.5)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoubleDefaultMethodInvocationImposterGroupCallback
        {
            IDoubleDefaultMethodInvocationImposterGroupContinuation Callback(DoubleDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoubleDefaultMethodInvocationImposterGroupContinuation : IDoubleDefaultMethodInvocationImposterGroupCallback
        {
            IDoubleDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoubleDefaultMethodInvocationImposterGroup : IDoubleDefaultMethodInvocationImposterGroupCallback
        {
            IDoubleDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IDoubleDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IDoubleDefaultMethodInvocationImposterGroupContinuation Throws(DoubleDefaultExceptionGeneratorDelegate exceptionGenerator);
            IDoubleDefaultMethodInvocationImposterGroupContinuation Returns(DoubleDefaultDelegate resultGenerator);
            IDoubleDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface DoubleDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoubleDefaultMethodImposterBuilder : IDoubleDefaultMethodInvocationImposterGroup, IDoubleDefaultMethodInvocationImposterGroupCallback, DoubleDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoubleDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<DoubleDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<DoubleDefaultMethodInvocationImposterGroup>();
            private readonly DoubleDefaultMethodInvocationHistoryCollection _doubleDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public DoubleDefaultMethodImposter(DoubleDefaultMethodInvocationHistoryCollection _doubleDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._doubleDefaultMethodInvocationHistoryCollection = _doubleDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(DoubleDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private DoubleDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(DoubleDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(double value = 2.5)
            {
                var arguments = new DoubleDefaultArguments(value);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.DoubleDefault(double value = 2.5)");
                    }

                    matchingInvocationImposterGroup = DoubleDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.DoubleDefault(double value = 2.5)", value);
                    _doubleDefaultMethodInvocationHistoryCollection.Add(new DoubleDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _doubleDefaultMethodInvocationHistoryCollection.Add(new DoubleDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IDoubleDefaultMethodImposterBuilder, IDoubleDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly DoubleDefaultMethodImposter _imposter;
                private readonly DoubleDefaultMethodInvocationHistoryCollection _doubleDefaultMethodInvocationHistoryCollection;
                private readonly DoubleDefaultArgumentsCriteria _argumentsCriteria;
                private readonly DoubleDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private DoubleDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(DoubleDefaultMethodImposter _imposter, DoubleDefaultMethodInvocationHistoryCollection _doubleDefaultMethodInvocationHistoryCollection, DoubleDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._doubleDefaultMethodInvocationHistoryCollection = _doubleDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new DoubleDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((double value) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((double value) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroup.Throws(DoubleDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((double value) =>
                    {
                        throw exceptionGenerator.Invoke(value);
                    });
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroupCallback.Callback(DoubleDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroup.Returns(DoubleDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroupContinuation IDoubleDefaultMethodInvocationImposterGroup.Returns(int value_1)
                {
                    _currentInvocationImposter.Returns(value_1);
                    return this;
                }

                IDoubleDefaultMethodInvocationImposterGroup IDoubleDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void DoubleDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _doubleDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _doubleDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int EnumDefaultDelegate(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1);
        public delegate void EnumDefaultCallbackDelegate(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1);
        public delegate global::System.Exception EnumDefaultExceptionGeneratorDelegate(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class EnumDefaultArguments
        {
            public global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode;
            internal EnumDefaultArguments(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
            {
                this.mode = mode;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class EnumDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum> mode { get; }

            public EnumDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum> mode)
            {
                this.mode = mode;
            }

            public bool Matches(EnumDefaultArguments arguments)
            {
                return mode.Matches(arguments.mode);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IEnumDefaultMethodInvocationHistory
        {
            bool Matches(EnumDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class EnumDefaultMethodInvocationHistory : IEnumDefaultMethodInvocationHistory
        {
            internal EnumDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public EnumDefaultMethodInvocationHistory(EnumDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(EnumDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "EnumDefault(" + global::System.String.Join(", ", new[] { "mode: " + FormatValue(Arguments.mode) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class EnumDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IEnumDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IEnumDefaultMethodInvocationHistory>();
            internal void Add(IEnumDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(EnumDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class EnumDefaultMethodInvocationImposterGroup
        {
            internal static EnumDefaultMethodInvocationImposterGroup Default = new EnumDefaultMethodInvocationImposterGroup(new EnumDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum>.Any()));
            internal EnumDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public EnumDefaultMethodInvocationImposterGroup(EnumDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, mode);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private EnumDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<EnumDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<EnumDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(mode);
                    foreach (var callback in _callbacks)
                    {
                        callback(mode);
                    }

                    return result;
                }

                internal void Callback(EnumDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(EnumDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode) =>
                    {
                        return value;
                    };
                }

                internal void Throws(EnumDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode) =>
                    {
                        throw exceptionGenerator(mode);
                    };
                }

                internal static int DefaultResultGenerator(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IEnumDefaultMethodInvocationImposterGroupCallback
        {
            IEnumDefaultMethodInvocationImposterGroupContinuation Callback(EnumDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IEnumDefaultMethodInvocationImposterGroupContinuation : IEnumDefaultMethodInvocationImposterGroupCallback
        {
            IEnumDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IEnumDefaultMethodInvocationImposterGroup : IEnumDefaultMethodInvocationImposterGroupCallback
        {
            IEnumDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IEnumDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IEnumDefaultMethodInvocationImposterGroupContinuation Throws(EnumDefaultExceptionGeneratorDelegate exceptionGenerator);
            IEnumDefaultMethodInvocationImposterGroupContinuation Returns(EnumDefaultDelegate resultGenerator);
            IEnumDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface EnumDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IEnumDefaultMethodImposterBuilder : IEnumDefaultMethodInvocationImposterGroup, IEnumDefaultMethodInvocationImposterGroupCallback, EnumDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class EnumDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<EnumDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<EnumDefaultMethodInvocationImposterGroup>();
            private readonly EnumDefaultMethodInvocationHistoryCollection _enumDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public EnumDefaultMethodImposter(EnumDefaultMethodInvocationHistoryCollection _enumDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._enumDefaultMethodInvocationHistoryCollection = _enumDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(EnumDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private EnumDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(EnumDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
            {
                var arguments = new EnumDefaultArguments(mode);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.EnumDefault(Issue2Enum mode = Issue2Enum.Second)");
                    }

                    matchingInvocationImposterGroup = EnumDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.EnumDefault(Issue2Enum mode = Issue2Enum.Second)", mode);
                    _enumDefaultMethodInvocationHistoryCollection.Add(new EnumDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _enumDefaultMethodInvocationHistoryCollection.Add(new EnumDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IEnumDefaultMethodImposterBuilder, IEnumDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly EnumDefaultMethodImposter _imposter;
                private readonly EnumDefaultMethodInvocationHistoryCollection _enumDefaultMethodInvocationHistoryCollection;
                private readonly EnumDefaultArgumentsCriteria _argumentsCriteria;
                private readonly EnumDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private EnumDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(EnumDefaultMethodImposter _imposter, EnumDefaultMethodInvocationHistoryCollection _enumDefaultMethodInvocationHistoryCollection, EnumDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._enumDefaultMethodInvocationHistoryCollection = _enumDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new EnumDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroup.Throws(EnumDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode) =>
                    {
                        throw exceptionGenerator.Invoke(mode);
                    });
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroupCallback.Callback(EnumDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroup.Returns(EnumDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroupContinuation IEnumDefaultMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IEnumDefaultMethodInvocationImposterGroup IEnumDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void EnumDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _enumDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _enumDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int FloatDefaultDelegate(float value = 1.25F);
        public delegate void FloatDefaultCallbackDelegate(float value = 1.25F);
        public delegate global::System.Exception FloatDefaultExceptionGeneratorDelegate(float value = 1.25F);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class FloatDefaultArguments
        {
            public float value;
            internal FloatDefaultArguments(float value = 1.25F)
            {
                this.value = value;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class FloatDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<float> value { get; }

            public FloatDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<float> value)
            {
                this.value = value;
            }

            public bool Matches(FloatDefaultArguments arguments)
            {
                return value.Matches(arguments.value);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IFloatDefaultMethodInvocationHistory
        {
            bool Matches(FloatDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class FloatDefaultMethodInvocationHistory : IFloatDefaultMethodInvocationHistory
        {
            internal FloatDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public FloatDefaultMethodInvocationHistory(FloatDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(FloatDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "FloatDefault(" + global::System.String.Join(", ", new[] { "value: " + FormatValue(Arguments.value) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class FloatDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IFloatDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IFloatDefaultMethodInvocationHistory>();
            internal void Add(IFloatDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(FloatDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class FloatDefaultMethodInvocationImposterGroup
        {
            internal static FloatDefaultMethodInvocationImposterGroup Default = new FloatDefaultMethodInvocationImposterGroup(new FloatDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<float>.Any()));
            internal FloatDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public FloatDefaultMethodInvocationImposterGroup(FloatDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, float value = 1.25F)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, value);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private FloatDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<FloatDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<FloatDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, float value = 1.25F)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(value);
                    foreach (var callback in _callbacks)
                    {
                        callback(value);
                    }

                    return result;
                }

                internal void Callback(FloatDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(FloatDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value_1)
                {
                    _resultGenerator = (float value) =>
                    {
                        return value_1;
                    };
                }

                internal void Throws(FloatDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (float value) =>
                    {
                        throw exceptionGenerator(value);
                    };
                }

                internal static int DefaultResultGenerator(float value = 1.25F)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IFloatDefaultMethodInvocationImposterGroupCallback
        {
            IFloatDefaultMethodInvocationImposterGroupContinuation Callback(FloatDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IFloatDefaultMethodInvocationImposterGroupContinuation : IFloatDefaultMethodInvocationImposterGroupCallback
        {
            IFloatDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IFloatDefaultMethodInvocationImposterGroup : IFloatDefaultMethodInvocationImposterGroupCallback
        {
            IFloatDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IFloatDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IFloatDefaultMethodInvocationImposterGroupContinuation Throws(FloatDefaultExceptionGeneratorDelegate exceptionGenerator);
            IFloatDefaultMethodInvocationImposterGroupContinuation Returns(FloatDefaultDelegate resultGenerator);
            IFloatDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface FloatDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IFloatDefaultMethodImposterBuilder : IFloatDefaultMethodInvocationImposterGroup, IFloatDefaultMethodInvocationImposterGroupCallback, FloatDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class FloatDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<FloatDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<FloatDefaultMethodInvocationImposterGroup>();
            private readonly FloatDefaultMethodInvocationHistoryCollection _floatDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public FloatDefaultMethodImposter(FloatDefaultMethodInvocationHistoryCollection _floatDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._floatDefaultMethodInvocationHistoryCollection = _floatDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(FloatDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private FloatDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(FloatDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(float value = 1.25F)
            {
                var arguments = new FloatDefaultArguments(value);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.FloatDefault(float value = 1.25)");
                    }

                    matchingInvocationImposterGroup = FloatDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.FloatDefault(float value = 1.25)", value);
                    _floatDefaultMethodInvocationHistoryCollection.Add(new FloatDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _floatDefaultMethodInvocationHistoryCollection.Add(new FloatDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IFloatDefaultMethodImposterBuilder, IFloatDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly FloatDefaultMethodImposter _imposter;
                private readonly FloatDefaultMethodInvocationHistoryCollection _floatDefaultMethodInvocationHistoryCollection;
                private readonly FloatDefaultArgumentsCriteria _argumentsCriteria;
                private readonly FloatDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private FloatDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(FloatDefaultMethodImposter _imposter, FloatDefaultMethodInvocationHistoryCollection _floatDefaultMethodInvocationHistoryCollection, FloatDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._floatDefaultMethodInvocationHistoryCollection = _floatDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new FloatDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((float value) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((float value) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroup.Throws(FloatDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((float value) =>
                    {
                        throw exceptionGenerator.Invoke(value);
                    });
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroupCallback.Callback(FloatDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroup.Returns(FloatDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroupContinuation IFloatDefaultMethodInvocationImposterGroup.Returns(int value_1)
                {
                    _currentInvocationImposter.Returns(value_1);
                    return this;
                }

                IFloatDefaultMethodInvocationImposterGroup IFloatDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void FloatDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _floatDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _floatDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int IntDefaultDelegate(int value = 5);
        public delegate void IntDefaultCallbackDelegate(int value = 5);
        public delegate global::System.Exception IntDefaultExceptionGeneratorDelegate(int value = 5);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IntDefaultArguments
        {
            public int value;
            internal IntDefaultArguments(int value = 5)
            {
                this.value = value;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IntDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<int> value { get; }

            public IntDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<int> value)
            {
                this.value = value;
            }

            public bool Matches(IntDefaultArguments arguments)
            {
                return value.Matches(arguments.value);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIntDefaultMethodInvocationHistory
        {
            bool Matches(IntDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IntDefaultMethodInvocationHistory : IIntDefaultMethodInvocationHistory
        {
            internal IntDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public IntDefaultMethodInvocationHistory(IntDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(IntDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "IntDefault(" + global::System.String.Join(", ", new[] { "value: " + FormatValue(Arguments.value) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IntDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IIntDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IIntDefaultMethodInvocationHistory>();
            internal void Add(IIntDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(IntDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class IntDefaultMethodInvocationImposterGroup
        {
            internal static IntDefaultMethodInvocationImposterGroup Default = new IntDefaultMethodInvocationImposterGroup(new IntDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<int>.Any()));
            internal IntDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public IntDefaultMethodInvocationImposterGroup(IntDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int value = 5)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, value);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private IntDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<IntDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<IntDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int value = 5)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(value);
                    foreach (var callback in _callbacks)
                    {
                        callback(value);
                    }

                    return result;
                }

                internal void Callback(IntDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(IntDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value_1)
                {
                    _resultGenerator = (int value) =>
                    {
                        return value_1;
                    };
                }

                internal void Throws(IntDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (int value) =>
                    {
                        throw exceptionGenerator(value);
                    };
                }

                internal static int DefaultResultGenerator(int value = 5)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIntDefaultMethodInvocationImposterGroupCallback
        {
            IIntDefaultMethodInvocationImposterGroupContinuation Callback(IntDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIntDefaultMethodInvocationImposterGroupContinuation : IIntDefaultMethodInvocationImposterGroupCallback
        {
            IIntDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIntDefaultMethodInvocationImposterGroup : IIntDefaultMethodInvocationImposterGroupCallback
        {
            IIntDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IIntDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IIntDefaultMethodInvocationImposterGroupContinuation Throws(IntDefaultExceptionGeneratorDelegate exceptionGenerator);
            IIntDefaultMethodInvocationImposterGroupContinuation Returns(IntDefaultDelegate resultGenerator);
            IIntDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IntDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIntDefaultMethodImposterBuilder : IIntDefaultMethodInvocationImposterGroup, IIntDefaultMethodInvocationImposterGroupCallback, IntDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IntDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IntDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<IntDefaultMethodInvocationImposterGroup>();
            private readonly IntDefaultMethodInvocationHistoryCollection _intDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public IntDefaultMethodImposter(IntDefaultMethodInvocationHistoryCollection _intDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._intDefaultMethodInvocationHistoryCollection = _intDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(IntDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private IntDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(IntDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(int value = 5)
            {
                var arguments = new IntDefaultArguments(value);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.IntDefault(int value = 5)");
                    }

                    matchingInvocationImposterGroup = IntDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.IntDefault(int value = 5)", value);
                    _intDefaultMethodInvocationHistoryCollection.Add(new IntDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _intDefaultMethodInvocationHistoryCollection.Add(new IntDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IIntDefaultMethodImposterBuilder, IIntDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly IntDefaultMethodImposter _imposter;
                private readonly IntDefaultMethodInvocationHistoryCollection _intDefaultMethodInvocationHistoryCollection;
                private readonly IntDefaultArgumentsCriteria _argumentsCriteria;
                private readonly IntDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private IntDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(IntDefaultMethodImposter _imposter, IntDefaultMethodInvocationHistoryCollection _intDefaultMethodInvocationHistoryCollection, IntDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._intDefaultMethodInvocationHistoryCollection = _intDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new IntDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((int value) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((int value) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroup.Throws(IntDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((int value) =>
                    {
                        throw exceptionGenerator.Invoke(value);
                    });
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroupCallback.Callback(IntDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroup.Returns(IntDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroupContinuation IIntDefaultMethodInvocationImposterGroup.Returns(int value_1)
                {
                    _currentInvocationImposter.Returns(value_1);
                    return this;
                }

                IIntDefaultMethodInvocationImposterGroup IIntDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void IntDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _intDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _intDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NameDefaultDelegate(string name = "IMethodParametersWithDefaultSut");
        public delegate void NameDefaultCallbackDelegate(string name = "IMethodParametersWithDefaultSut");
        public delegate global::System.Exception NameDefaultExceptionGeneratorDelegate(string name = "IMethodParametersWithDefaultSut");
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NameDefaultArguments
        {
            public string name;
            internal NameDefaultArguments(string name = "IMethodParametersWithDefaultSut")
            {
                this.name = name;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NameDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<string> name { get; }

            public NameDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<string> name)
            {
                this.name = name;
            }

            public bool Matches(NameDefaultArguments arguments)
            {
                return name.Matches(arguments.name);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INameDefaultMethodInvocationHistory
        {
            bool Matches(NameDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NameDefaultMethodInvocationHistory : INameDefaultMethodInvocationHistory
        {
            internal NameDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public NameDefaultMethodInvocationHistory(NameDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(NameDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "NameDefault(" + global::System.String.Join(", ", new[] { "name: " + FormatValue(Arguments.name) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NameDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INameDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INameDefaultMethodInvocationHistory>();
            internal void Add(INameDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(NameDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NameDefaultMethodInvocationImposterGroup
        {
            internal static NameDefaultMethodInvocationImposterGroup Default = new NameDefaultMethodInvocationImposterGroup(new NameDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<string>.Any()));
            internal NameDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NameDefaultMethodInvocationImposterGroup(NameDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string name = "IMethodParametersWithDefaultSut")
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, name);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NameDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NameDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NameDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string name = "IMethodParametersWithDefaultSut")
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(name);
                    foreach (var callback in _callbacks)
                    {
                        callback(name);
                    }

                    return result;
                }

                internal void Callback(NameDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NameDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (string name) =>
                    {
                        return value;
                    };
                }

                internal void Throws(NameDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (string name) =>
                    {
                        throw exceptionGenerator(name);
                    };
                }

                internal static int DefaultResultGenerator(string name = "IMethodParametersWithDefaultSut")
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INameDefaultMethodInvocationImposterGroupCallback
        {
            INameDefaultMethodInvocationImposterGroupContinuation Callback(NameDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INameDefaultMethodInvocationImposterGroupContinuation : INameDefaultMethodInvocationImposterGroupCallback
        {
            INameDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INameDefaultMethodInvocationImposterGroup : INameDefaultMethodInvocationImposterGroupCallback
        {
            INameDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INameDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INameDefaultMethodInvocationImposterGroupContinuation Throws(NameDefaultExceptionGeneratorDelegate exceptionGenerator);
            INameDefaultMethodInvocationImposterGroupContinuation Returns(NameDefaultDelegate resultGenerator);
            INameDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NameDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INameDefaultMethodImposterBuilder : INameDefaultMethodInvocationImposterGroup, INameDefaultMethodInvocationImposterGroupCallback, NameDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NameDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NameDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NameDefaultMethodInvocationImposterGroup>();
            private readonly NameDefaultMethodInvocationHistoryCollection _nameDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NameDefaultMethodImposter(NameDefaultMethodInvocationHistoryCollection _nameDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nameDefaultMethodInvocationHistoryCollection = _nameDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(NameDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private NameDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(NameDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(string name = "IMethodParametersWithDefaultSut")
            {
                var arguments = new NameDefaultArguments(name);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NameDefault(string name = \"IMethodParametersWithDefaultSut\")");
                    }

                    matchingInvocationImposterGroup = NameDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NameDefault(string name = \"IMethodParametersWithDefaultSut\")", name);
                    _nameDefaultMethodInvocationHistoryCollection.Add(new NameDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nameDefaultMethodInvocationHistoryCollection.Add(new NameDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INameDefaultMethodImposterBuilder, INameDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly NameDefaultMethodImposter _imposter;
                private readonly NameDefaultMethodInvocationHistoryCollection _nameDefaultMethodInvocationHistoryCollection;
                private readonly NameDefaultArgumentsCriteria _argumentsCriteria;
                private readonly NameDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private NameDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NameDefaultMethodImposter _imposter, NameDefaultMethodInvocationHistoryCollection _nameDefaultMethodInvocationHistoryCollection, NameDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._nameDefaultMethodInvocationHistoryCollection = _nameDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new NameDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((string name) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((string name) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroup.Throws(NameDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((string name) =>
                    {
                        throw exceptionGenerator.Invoke(name);
                    });
                    return this;
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroupCallback.Callback(NameDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroup.Returns(NameDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INameDefaultMethodInvocationImposterGroupContinuation INameDefaultMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INameDefaultMethodInvocationImposterGroup INameDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NameDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nameDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nameDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NullableDefaultDelegate(string? text = default(string? ));
        public delegate void NullableDefaultCallbackDelegate(string? text = default(string? ));
        public delegate global::System.Exception NullableDefaultExceptionGeneratorDelegate(string? text = default(string? ));
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableDefaultArguments
        {
            public string? text;
            internal NullableDefaultArguments(string? text = default(string? ))
            {
                this.text = text;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableDefaultArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<string?> text { get; }

            public NullableDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<string?> text)
            {
                this.text = text;
            }

            public bool Matches(NullableDefaultArguments arguments)
            {
                return text.Matches(arguments.text);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableDefaultMethodInvocationHistory
        {
            bool Matches(NullableDefaultArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableDefaultMethodInvocationHistory : INullableDefaultMethodInvocationHistory
        {
            internal NullableDefaultArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public NullableDefaultMethodInvocationHistory(NullableDefaultArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(NullableDefaultArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "NullableDefault(" + global::System.String.Join(", ", new[] { "text: " + FormatValue(Arguments.text) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableDefaultMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INullableDefaultMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INullableDefaultMethodInvocationHistory>();
            internal void Add(INullableDefaultMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(NullableDefaultArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NullableDefaultMethodInvocationImposterGroup
        {
            internal static NullableDefaultMethodInvocationImposterGroup Default = new NullableDefaultMethodInvocationImposterGroup(new NullableDefaultArgumentsCriteria(global::Imposter.Abstractions.Arg<string?>.Any()));
            internal NullableDefaultArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NullableDefaultMethodInvocationImposterGroup(NullableDefaultArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string? text = default(string? ))
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, text);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NullableDefaultDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NullableDefaultCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NullableDefaultCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string? text = default(string? ))
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(text);
                    foreach (var callback in _callbacks)
                    {
                        callback(text);
                    }

                    return result;
                }

                internal void Callback(NullableDefaultCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NullableDefaultDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (string? text) =>
                    {
                        return value;
                    };
                }

                internal void Throws(NullableDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (string? text) =>
                    {
                        throw exceptionGenerator(text);
                    };
                }

                internal static int DefaultResultGenerator(string? text = default(string? ))
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableDefaultMethodInvocationImposterGroupCallback
        {
            INullableDefaultMethodInvocationImposterGroupContinuation Callback(NullableDefaultCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableDefaultMethodInvocationImposterGroupContinuation : INullableDefaultMethodInvocationImposterGroupCallback
        {
            INullableDefaultMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableDefaultMethodInvocationImposterGroup : INullableDefaultMethodInvocationImposterGroupCallback
        {
            INullableDefaultMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INullableDefaultMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INullableDefaultMethodInvocationImposterGroupContinuation Throws(NullableDefaultExceptionGeneratorDelegate exceptionGenerator);
            INullableDefaultMethodInvocationImposterGroupContinuation Returns(NullableDefaultDelegate resultGenerator);
            INullableDefaultMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NullableDefaultInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableDefaultMethodImposterBuilder : INullableDefaultMethodInvocationImposterGroup, INullableDefaultMethodInvocationImposterGroupCallback, NullableDefaultInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableDefaultMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NullableDefaultMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NullableDefaultMethodInvocationImposterGroup>();
            private readonly NullableDefaultMethodInvocationHistoryCollection _nullableDefaultMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NullableDefaultMethodImposter(NullableDefaultMethodInvocationHistoryCollection _nullableDefaultMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nullableDefaultMethodInvocationHistoryCollection = _nullableDefaultMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(NullableDefaultArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private NullableDefaultMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(NullableDefaultArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(string? text = default(string? ))
            {
                var arguments = new NullableDefaultArguments(text);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NullableDefault(string? text = null)");
                    }

                    matchingInvocationImposterGroup = NullableDefaultMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NullableDefault(string? text = null)", text);
                    _nullableDefaultMethodInvocationHistoryCollection.Add(new NullableDefaultMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nullableDefaultMethodInvocationHistoryCollection.Add(new NullableDefaultMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INullableDefaultMethodImposterBuilder, INullableDefaultMethodInvocationImposterGroupContinuation
            {
                private readonly NullableDefaultMethodImposter _imposter;
                private readonly NullableDefaultMethodInvocationHistoryCollection _nullableDefaultMethodInvocationHistoryCollection;
                private readonly NullableDefaultArgumentsCriteria _argumentsCriteria;
                private readonly NullableDefaultMethodInvocationImposterGroup _invocationImposterGroup;
                private NullableDefaultMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NullableDefaultMethodImposter _imposter, NullableDefaultMethodInvocationHistoryCollection _nullableDefaultMethodInvocationHistoryCollection, NullableDefaultArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._nullableDefaultMethodInvocationHistoryCollection = _nullableDefaultMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new NullableDefaultMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((string? text) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((string? text) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroup.Throws(NullableDefaultExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((string? text) =>
                    {
                        throw exceptionGenerator.Invoke(text);
                    });
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroupCallback.Callback(NullableDefaultCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroup.Returns(NullableDefaultDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroupContinuation INullableDefaultMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INullableDefaultMethodInvocationImposterGroup INullableDefaultMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NullableDefaultInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nullableDefaultMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nullableDefaultMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NullableInDelegate(in string? text);
        public delegate void NullableInCallbackDelegate(in string? text);
        public delegate global::System.Exception NullableInExceptionGeneratorDelegate(in string? text);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableInArguments
        {
            public string? text;
            internal NullableInArguments(string? text)
            {
                this.text = text;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableInArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<string?> text { get; }

            public NullableInArgumentsCriteria(global::Imposter.Abstractions.Arg<string?> text)
            {
                this.text = text;
            }

            public bool Matches(NullableInArguments arguments)
            {
                return text.Matches(arguments.text);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableInMethodInvocationHistory
        {
            bool Matches(NullableInArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableInMethodInvocationHistory : INullableInMethodInvocationHistory
        {
            internal NullableInArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public NullableInMethodInvocationHistory(NullableInArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(NullableInArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "NullableIn(" + global::System.String.Join(", ", new[] { "text: " + FormatValue(Arguments.text) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableInMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INullableInMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INullableInMethodInvocationHistory>();
            internal void Add(INullableInMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(NullableInArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NullableInMethodInvocationImposterGroup
        {
            internal static NullableInMethodInvocationImposterGroup Default = new NullableInMethodInvocationImposterGroup(new NullableInArgumentsCriteria(global::Imposter.Abstractions.Arg<string?>.Any()));
            internal NullableInArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NullableInMethodInvocationImposterGroup(NullableInArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, in string? text)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, in text);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NullableInDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NullableInCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NullableInCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, in string? text)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(in text);
                    foreach (var callback in _callbacks)
                    {
                        callback(in text);
                    }

                    return result;
                }

                internal void Callback(NullableInCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NullableInDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (in string? text) =>
                    {
                        return value;
                    };
                }

                internal void Throws(NullableInExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (in string? text) =>
                    {
                        throw exceptionGenerator(in text);
                    };
                }

                internal static int DefaultResultGenerator(in string? text)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableInMethodInvocationImposterGroupCallback
        {
            INullableInMethodInvocationImposterGroupContinuation Callback(NullableInCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableInMethodInvocationImposterGroupContinuation : INullableInMethodInvocationImposterGroupCallback
        {
            INullableInMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableInMethodInvocationImposterGroup : INullableInMethodInvocationImposterGroupCallback
        {
            INullableInMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INullableInMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INullableInMethodInvocationImposterGroupContinuation Throws(NullableInExceptionGeneratorDelegate exceptionGenerator);
            INullableInMethodInvocationImposterGroupContinuation Returns(NullableInDelegate resultGenerator);
            INullableInMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NullableInInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableInMethodImposterBuilder : INullableInMethodInvocationImposterGroup, INullableInMethodInvocationImposterGroupCallback, NullableInInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableInMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NullableInMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NullableInMethodInvocationImposterGroup>();
            private readonly NullableInMethodInvocationHistoryCollection _nullableInMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NullableInMethodImposter(NullableInMethodInvocationHistoryCollection _nullableInMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nullableInMethodInvocationHistoryCollection = _nullableInMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(NullableInArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private NullableInMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(NullableInArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(in string? text)
            {
                var arguments = new NullableInArguments(text);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NullableIn(in string? text)");
                    }

                    matchingInvocationImposterGroup = NullableInMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NullableIn(in string? text)", in text);
                    _nullableInMethodInvocationHistoryCollection.Add(new NullableInMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nullableInMethodInvocationHistoryCollection.Add(new NullableInMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INullableInMethodImposterBuilder, INullableInMethodInvocationImposterGroupContinuation
            {
                private readonly NullableInMethodImposter _imposter;
                private readonly NullableInMethodInvocationHistoryCollection _nullableInMethodInvocationHistoryCollection;
                private readonly NullableInArgumentsCriteria _argumentsCriteria;
                private readonly NullableInMethodInvocationImposterGroup _invocationImposterGroup;
                private NullableInMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NullableInMethodImposter _imposter, NullableInMethodInvocationHistoryCollection _nullableInMethodInvocationHistoryCollection, NullableInArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._nullableInMethodInvocationHistoryCollection = _nullableInMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new NullableInMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((in string? text) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((in string? text) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroup.Throws(NullableInExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((in string? text) =>
                    {
                        throw exceptionGenerator.Invoke(in text);
                    });
                    return this;
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroupCallback.Callback(NullableInCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroup.Returns(NullableInDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INullableInMethodInvocationImposterGroupContinuation INullableInMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INullableInMethodInvocationImposterGroup INullableInMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NullableInInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nullableInMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nullableInMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NullableOutDelegate(out string? text);
        public delegate void NullableOutCallbackDelegate(out string? text);
        public delegate global::System.Exception NullableOutExceptionGeneratorDelegate(out string? text);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableOutMethodInvocationHistory
        {
            bool Matches();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableOutMethodInvocationHistory : INullableOutMethodInvocationHistory
        {
            internal int? Result;
            internal global::System.Exception? Exception;
            public NullableOutMethodInvocationHistory(int? Result, global::System.Exception? Exception)
            {
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches()
            {
                return true;
            }

            public override string ToString()
            {
                return "NullableOut(" + "" + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableOutMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INullableOutMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INullableOutMethodInvocationHistory>();
            internal void Add(INullableOutMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count()
            {
                return _invocationHistory.Count(it => it.Matches());
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NullableOutMethodInvocationImposterGroup
        {
            internal static NullableOutMethodInvocationImposterGroup Default = new NullableOutMethodInvocationImposterGroup();
            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NullableOutMethodInvocationImposterGroup()
            {
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, out string? text)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, out text);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NullableOutDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NullableOutCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NullableOutCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, out string? text)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(out text);
                    foreach (var callback in _callbacks)
                    {
                        callback(out text);
                    }

                    return result;
                }

                internal void Callback(NullableOutCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NullableOutDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (out string? text) =>
                    {
                        InitializeOutParametersWithDefaultValues(out text);
                        return value;
                    };
                }

                internal void Throws(NullableOutExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (out string? text) =>
                    {
                        throw exceptionGenerator(out text);
                    };
                }

                private static void InitializeOutParametersWithDefaultValues(out string text)
                {
                    text = default !;
                }

                internal static int DefaultResultGenerator(out string? text)
                {
                    InitializeOutParametersWithDefaultValues(out text);
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableOutMethodInvocationImposterGroupCallback
        {
            INullableOutMethodInvocationImposterGroupContinuation Callback(NullableOutCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableOutMethodInvocationImposterGroupContinuation : INullableOutMethodInvocationImposterGroupCallback
        {
            INullableOutMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableOutMethodInvocationImposterGroup : INullableOutMethodInvocationImposterGroupCallback
        {
            INullableOutMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INullableOutMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INullableOutMethodInvocationImposterGroupContinuation Throws(NullableOutExceptionGeneratorDelegate exceptionGenerator);
            INullableOutMethodInvocationImposterGroupContinuation Returns(NullableOutDelegate resultGenerator);
            INullableOutMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NullableOutInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableOutMethodImposterBuilder : INullableOutMethodInvocationImposterGroup, INullableOutMethodInvocationImposterGroupCallback, NullableOutInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableOutMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NullableOutMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NullableOutMethodInvocationImposterGroup>();
            private readonly NullableOutMethodInvocationHistoryCollection _nullableOutMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NullableOutMethodImposter(NullableOutMethodInvocationHistoryCollection _nullableOutMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nullableOutMethodInvocationHistoryCollection = _nullableOutMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            private static void InitializeOutParametersWithDefaultValues(out string text)
            {
                text = default !;
            }

            public bool HasMatchingInvocationImposterGroup()
            {
                return FindMatchingInvocationImposterGroup() != null;
            }

            private NullableOutMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup()
            {
                if (_invocationImposters.TryPeek(out var invocationImposterGroup))
                    return invocationImposterGroup;
                else
                    return null;
            }

            public int Invoke(out string? text)
            {
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup();
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NullableOut(out string? text)");
                    }

                    matchingInvocationImposterGroup = NullableOutMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NullableOut(out string? text)", out text);
                    _nullableOutMethodInvocationHistoryCollection.Add(new NullableOutMethodInvocationHistory(result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nullableOutMethodInvocationHistoryCollection.Add(new NullableOutMethodInvocationHistory(default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INullableOutMethodImposterBuilder, INullableOutMethodInvocationImposterGroupContinuation
            {
                private readonly NullableOutMethodImposter _imposter;
                private readonly NullableOutMethodInvocationHistoryCollection _nullableOutMethodInvocationHistoryCollection;
                private readonly NullableOutMethodInvocationImposterGroup _invocationImposterGroup;
                private NullableOutMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NullableOutMethodImposter _imposter, NullableOutMethodInvocationHistoryCollection _nullableOutMethodInvocationHistoryCollection)
                {
                    this._imposter = _imposter;
                    this._nullableOutMethodInvocationHistoryCollection = _nullableOutMethodInvocationHistoryCollection;
                    this._invocationImposterGroup = new NullableOutMethodInvocationImposterGroup();
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((out string? text) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((out string? text) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroup.Throws(NullableOutExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((out string? text) =>
                    {
                        throw exceptionGenerator.Invoke(out text);
                    });
                    return this;
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroupCallback.Callback(NullableOutCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroup.Returns(NullableOutDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INullableOutMethodInvocationImposterGroupContinuation INullableOutMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INullableOutMethodInvocationImposterGroup INullableOutMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NullableOutInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nullableOutMethodInvocationHistoryCollection.Count();
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nullableOutMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NullableParamsDelegate(string? [] values);
        public delegate void NullableParamsCallbackDelegate(string? [] values);
        public delegate global::System.Exception NullableParamsExceptionGeneratorDelegate(string? [] values);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableParamsArguments
        {
            public string? [] values;
            internal NullableParamsArguments(string? [] values)
            {
                this.values = values;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableParamsArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<string? []> values { get; }

            public NullableParamsArgumentsCriteria(global::Imposter.Abstractions.Arg<string? []> values)
            {
                this.values = values;
            }

            public bool Matches(NullableParamsArguments arguments)
            {
                return values.Matches(arguments.values);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableParamsMethodInvocationHistory
        {
            bool Matches(NullableParamsArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableParamsMethodInvocationHistory : INullableParamsMethodInvocationHistory
        {
            internal NullableParamsArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public NullableParamsMethodInvocationHistory(NullableParamsArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(NullableParamsArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "NullableParams(" + global::System.String.Join(", ", new[] { "values: " + FormatValue(Arguments.values) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableParamsMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INullableParamsMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INullableParamsMethodInvocationHistory>();
            internal void Add(INullableParamsMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(NullableParamsArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NullableParamsMethodInvocationImposterGroup
        {
            internal static NullableParamsMethodInvocationImposterGroup Default = new NullableParamsMethodInvocationImposterGroup(new NullableParamsArgumentsCriteria(global::Imposter.Abstractions.Arg<string? []>.Any()));
            internal NullableParamsArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NullableParamsMethodInvocationImposterGroup(NullableParamsArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string? [] values)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, values);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NullableParamsDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NullableParamsCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NullableParamsCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, string? [] values)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(values);
                    foreach (var callback in _callbacks)
                    {
                        callback(values);
                    }

                    return result;
                }

                internal void Callback(NullableParamsCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NullableParamsDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (string? [] values) =>
                    {
                        return value;
                    };
                }

                internal void Throws(NullableParamsExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (string? [] values) =>
                    {
                        throw exceptionGenerator(values);
                    };
                }

                internal static int DefaultResultGenerator(string? [] values)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableParamsMethodInvocationImposterGroupCallback
        {
            INullableParamsMethodInvocationImposterGroupContinuation Callback(NullableParamsCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableParamsMethodInvocationImposterGroupContinuation : INullableParamsMethodInvocationImposterGroupCallback
        {
            INullableParamsMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableParamsMethodInvocationImposterGroup : INullableParamsMethodInvocationImposterGroupCallback
        {
            INullableParamsMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INullableParamsMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INullableParamsMethodInvocationImposterGroupContinuation Throws(NullableParamsExceptionGeneratorDelegate exceptionGenerator);
            INullableParamsMethodInvocationImposterGroupContinuation Returns(NullableParamsDelegate resultGenerator);
            INullableParamsMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NullableParamsInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableParamsMethodImposterBuilder : INullableParamsMethodInvocationImposterGroup, INullableParamsMethodInvocationImposterGroupCallback, NullableParamsInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableParamsMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NullableParamsMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NullableParamsMethodInvocationImposterGroup>();
            private readonly NullableParamsMethodInvocationHistoryCollection _nullableParamsMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NullableParamsMethodImposter(NullableParamsMethodInvocationHistoryCollection _nullableParamsMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nullableParamsMethodInvocationHistoryCollection = _nullableParamsMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(NullableParamsArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private NullableParamsMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(NullableParamsArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(string? [] values)
            {
                var arguments = new NullableParamsArguments(values);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NullableParams(params string?[] values)");
                    }

                    matchingInvocationImposterGroup = NullableParamsMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NullableParams(params string?[] values)", values);
                    _nullableParamsMethodInvocationHistoryCollection.Add(new NullableParamsMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nullableParamsMethodInvocationHistoryCollection.Add(new NullableParamsMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INullableParamsMethodImposterBuilder, INullableParamsMethodInvocationImposterGroupContinuation
            {
                private readonly NullableParamsMethodImposter _imposter;
                private readonly NullableParamsMethodInvocationHistoryCollection _nullableParamsMethodInvocationHistoryCollection;
                private readonly NullableParamsArgumentsCriteria _argumentsCriteria;
                private readonly NullableParamsMethodInvocationImposterGroup _invocationImposterGroup;
                private NullableParamsMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NullableParamsMethodImposter _imposter, NullableParamsMethodInvocationHistoryCollection _nullableParamsMethodInvocationHistoryCollection, NullableParamsArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._nullableParamsMethodInvocationHistoryCollection = _nullableParamsMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new NullableParamsMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((string? [] values) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((string? [] values) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroup.Throws(NullableParamsExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((string? [] values) =>
                    {
                        throw exceptionGenerator.Invoke(values);
                    });
                    return this;
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroupCallback.Callback(NullableParamsCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroup.Returns(NullableParamsDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INullableParamsMethodInvocationImposterGroupContinuation INullableParamsMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INullableParamsMethodInvocationImposterGroup INullableParamsMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NullableParamsInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nullableParamsMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nullableParamsMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public delegate int NullableRefDelegate(ref string? text);
        public delegate void NullableRefCallbackDelegate(ref string? text);
        public delegate global::System.Exception NullableRefExceptionGeneratorDelegate(ref string? text);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableRefArguments
        {
            public string? text;
            internal NullableRefArguments(string? text)
            {
                this.text = text;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class NullableRefArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<string?> text { get; }

            public NullableRefArgumentsCriteria(global::Imposter.Abstractions.Arg<string?> text)
            {
                this.text = text;
            }

            public bool Matches(NullableRefArguments arguments)
            {
                return text.Matches(arguments.text);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableRefMethodInvocationHistory
        {
            bool Matches(NullableRefArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableRefMethodInvocationHistory : INullableRefMethodInvocationHistory
        {
            internal NullableRefArguments Arguments;
            internal int? Result;
            internal global::System.Exception? Exception;
            public NullableRefMethodInvocationHistory(NullableRefArguments Arguments, int? Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(NullableRefArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }

            public override string ToString()
            {
                return "NullableRef(" + global::System.String.Join(", ", new[] { "text: " + FormatValue(Arguments.text) }) + ")" + " => " + FormatValue(Result) + (Exception == null ? "" : " threw " + FormatValue(Exception));
            }

            private static string FormatValue(object? value)
            {
                return "<" + (value?.ToString() ?? "null") + ">";
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableRefMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<INullableRefMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<INullableRefMethodInvocationHistory>();
            internal void Add(INullableRefMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(NullableRefArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }

            public override string ToString()
            {
                return string.Join(Environment.NewLine, _invocationHistory.Select(invocation => invocation.ToString()));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class NullableRefMethodInvocationImposterGroup
        {
            internal static NullableRefMethodInvocationImposterGroup Default = new NullableRefMethodInvocationImposterGroup(new NullableRefArgumentsCriteria(global::Imposter.Abstractions.Arg<string?>.Any()));
            internal NullableRefArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public NullableRefMethodInvocationImposterGroup(NullableRefArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, ref string? text)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, ref text);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private NullableRefDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<NullableRefCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<NullableRefCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, ref string? text)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(ref text);
                    foreach (var callback in _callbacks)
                    {
                        callback(ref text);
                    }

                    return result;
                }

                internal void Callback(NullableRefCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(NullableRefDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (ref string? text) =>
                    {
                        return value;
                    };
                }

                internal void Throws(NullableRefExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (ref string? text) =>
                    {
                        throw exceptionGenerator(ref text);
                    };
                }

                internal static int DefaultResultGenerator(ref string? text)
                {
                    return default !;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableRefMethodInvocationImposterGroupCallback
        {
            INullableRefMethodInvocationImposterGroupContinuation Callback(NullableRefCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableRefMethodInvocationImposterGroupContinuation : INullableRefMethodInvocationImposterGroupCallback
        {
            INullableRefMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableRefMethodInvocationImposterGroup : INullableRefMethodInvocationImposterGroupCallback
        {
            INullableRefMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            INullableRefMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            INullableRefMethodInvocationImposterGroupContinuation Throws(NullableRefExceptionGeneratorDelegate exceptionGenerator);
            INullableRefMethodInvocationImposterGroupContinuation Returns(NullableRefDelegate resultGenerator);
            INullableRefMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface NullableRefInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface INullableRefMethodImposterBuilder : INullableRefMethodInvocationImposterGroup, INullableRefMethodInvocationImposterGroupCallback, NullableRefInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class NullableRefMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<NullableRefMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<NullableRefMethodInvocationImposterGroup>();
            private readonly NullableRefMethodInvocationHistoryCollection _nullableRefMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public NullableRefMethodImposter(NullableRefMethodInvocationHistoryCollection _nullableRefMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._nullableRefMethodInvocationHistoryCollection = _nullableRefMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(NullableRefArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private NullableRefMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(NullableRefArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(ref string? text)
            {
                var arguments = new NullableRefArguments(text);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IMethodParametersWithDefaultSut.NullableRef(ref string? text)");
                    }

                    matchingInvocationImposterGroup = NullableRefMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IMethodParametersWithDefaultSut.NullableRef(ref string? text)", ref text);
                    _nullableRefMethodInvocationHistoryCollection.Add(new NullableRefMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _nullableRefMethodInvocationHistoryCollection.Add(new NullableRefMethodInvocationHistory(arguments, default !, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : INullableRefMethodImposterBuilder, INullableRefMethodInvocationImposterGroupContinuation
            {
                private readonly NullableRefMethodImposter _imposter;
                private readonly NullableRefMethodInvocationHistoryCollection _nullableRefMethodInvocationHistoryCollection;
                private readonly NullableRefArgumentsCriteria _argumentsCriteria;
                private readonly NullableRefMethodInvocationImposterGroup _invocationImposterGroup;
                private NullableRefMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(NullableRefMethodImposter _imposter, NullableRefMethodInvocationHistoryCollection _nullableRefMethodInvocationHistoryCollection, NullableRefArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._nullableRefMethodInvocationHistoryCollection = _nullableRefMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new NullableRefMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((ref string? text) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((ref string? text) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroup.Throws(NullableRefExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((ref string? text) =>
                    {
                        throw exceptionGenerator.Invoke(ref text);
                    });
                    return this;
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroupCallback.Callback(NullableRefCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroup.Returns(NullableRefDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                INullableRefMethodInvocationImposterGroupContinuation INullableRefMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                INullableRefMethodInvocationImposterGroup INullableRefMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void NullableRefInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _nullableRefMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount, _nullableRefMethodInvocationHistoryCollection.ToString());
                    }
                }
            }
        }

        public IMethodParametersWithDefaultSutImposter(global::Imposter.Abstractions.ImposterMode invocationBehavior = global::Imposter.Abstractions.ImposterMode.Implicit)
        {
            this._boolDefaultMethodImposter = new BoolDefaultMethodImposter(_boolDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._intDefaultMethodImposter = new IntDefaultMethodImposter(_intDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._doubleDefaultMethodImposter = new DoubleDefaultMethodImposter(_doubleDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._nullableDefaultMethodImposter = new NullableDefaultMethodImposter(_nullableDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._floatDefaultMethodImposter = new FloatDefaultMethodImposter(_floatDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._decimalDefaultMethodImposter = new DecimalDefaultMethodImposter(_decimalDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._charDefaultMethodImposter = new CharDefaultMethodImposter(_charDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._enumDefaultMethodImposter = new EnumDefaultMethodImposter(_enumDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._nameDefaultMethodImposter = new NameDefaultMethodImposter(_nameDefaultMethodInvocationHistoryCollection, invocationBehavior);
            this._nullableRefMethodImposter = new NullableRefMethodImposter(_nullableRefMethodInvocationHistoryCollection, invocationBehavior);
            this._nullableOutMethodImposter = new NullableOutMethodImposter(_nullableOutMethodInvocationHistoryCollection, invocationBehavior);
            this._nullableInMethodImposter = new NullableInMethodImposter(_nullableInMethodInvocationHistoryCollection, invocationBehavior);
            this._nullableParamsMethodImposter = new NullableParamsMethodImposter(_nullableParamsMethodInvocationHistoryCollection, invocationBehavior);
            this._imposterInstance = new ImposterTargetInstance(this);
            this._invocationBehavior = invocationBehavior;
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class ImposterTargetInstance : global::Imposter.Tests.Features.MethodImpersonation.IMethodParametersWithDefaultSut
        {
            private readonly IMethodParametersWithDefaultSutImposter _imposter;
            public ImposterTargetInstance(IMethodParametersWithDefaultSutImposter _imposter)
            {
                this._imposter = _imposter;
            }

            public int BoolDefault(bool flag = true)
            {
                return _imposter._boolDefaultMethodImposter.Invoke(flag);
            }

            public int IntDefault(int value = 5)
            {
                return _imposter._intDefaultMethodImposter.Invoke(value);
            }

            public int DoubleDefault(double value = 2.5)
            {
                return _imposter._doubleDefaultMethodImposter.Invoke(value);
            }

            public int NullableDefault(string? text = default(string? ))
            {
                return _imposter._nullableDefaultMethodImposter.Invoke(text);
            }

            public int FloatDefault(float value = 1.25F)
            {
                return _imposter._floatDefaultMethodImposter.Invoke(value);
            }

            public int DecimalDefault(decimal value = 12.5M)
            {
                return _imposter._decimalDefaultMethodImposter.Invoke(value);
            }

            public int CharDefault(char value = 'Z')
            {
                return _imposter._charDefaultMethodImposter.Invoke(value);
            }

            public int EnumDefault(global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum mode = (global::Imposter.Tests.Features.MethodImpersonation.Issue2Enum)1)
            {
                return _imposter._enumDefaultMethodImposter.Invoke(mode);
            }

            public int NameDefault(string name = "IMethodParametersWithDefaultSut")
            {
                return _imposter._nameDefaultMethodImposter.Invoke(name);
            }

            public int NullableRef(ref string? text)
            {
                return _imposter._nullableRefMethodImposter.Invoke(ref text);
            }

            public int NullableOut(out string? text)
            {
                return _imposter._nullableOutMethodImposter.Invoke(out text);
            }

            public int NullableIn(in string? text)
            {
                return _imposter._nullableInMethodImposter.Invoke(in text);
            }

            public int NullableParams(string? [] values)
            {
                return _imposter._nullableParamsMethodImposter.Invoke(values);
            }
        }
    }
}
#nullable restore
