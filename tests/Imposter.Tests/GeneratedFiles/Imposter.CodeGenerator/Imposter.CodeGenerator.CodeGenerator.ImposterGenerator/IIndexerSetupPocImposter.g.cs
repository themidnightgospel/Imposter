// <auto-generated />
#nullable enable
#pragma warning disable CS8608
using global::System;
using global::System.Linq;
using global::System.Collections.Generic;
using global::System.Threading.Tasks;
using global::System.Diagnostics;
using global::System.Runtime.CompilerServices;
using global::Imposter.Abstractions;
using global::System.Collections.Concurrent;
using global::Imposter.Tests.Shared;

namespace Imposter.Tests.Shared
{
    [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
    public sealed class IIndexerSetupPocImposter : global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Shared.IIndexerSetupPoc>
    {
        private readonly IndexerMethodMethodImposter _indexerMethodMethodImposter;
        private readonly IndexerMethodMethodInvocationHistoryCollection _indexerMethodMethodInvocationHistoryCollection = new IndexerMethodMethodInvocationHistoryCollection();
        public IIndexerMethodMethodImposterBuilder IndexerMethod(global::Imposter.Abstractions.Arg<int> name, global::Imposter.Abstractions.Arg<string> lastname, global::Imposter.Abstractions.Arg<global::System.Text.RegularExpressions.Regex> dog)
        {
            return new IndexerMethodMethodImposter.Builder(_indexerMethodMethodImposter, _indexerMethodMethodInvocationHistoryCollection, new IndexerMethodArgumentsCriteria(name, lastname, dog));
        }

        private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
        private ImposterTargetInstance _imposterInstance;
        global::Imposter.Tests.Shared.IIndexerSetupPoc global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Shared.IIndexerSetupPoc>.Instance()
        {
            return _imposterInstance;
        }

        // string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)
        public delegate string IndexerMethodDelegate(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog);
        // string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)
        public delegate void IndexerMethodCallbackDelegate(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog);
        // string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)
        public delegate global::System.Exception IndexerMethodExceptionGeneratorDelegate(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IndexerMethodArguments
        {
            public int name;
            public string lastname;
            public global::System.Text.RegularExpressions.Regex dog;
            internal IndexerMethodArguments(int name, string lastname, global::System.Text.RegularExpressions.Regex dog)
            {
                this.name = name;
                this.lastname = lastname;
                this.dog = dog;
            }
        }

        // string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IndexerMethodArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<int> name { get; }
            public global::Imposter.Abstractions.Arg<string> lastname { get; }
            public global::Imposter.Abstractions.Arg<global::System.Text.RegularExpressions.Regex> dog { get; }

            public IndexerMethodArgumentsCriteria(global::Imposter.Abstractions.Arg<int> name, global::Imposter.Abstractions.Arg<string> lastname, global::Imposter.Abstractions.Arg<global::System.Text.RegularExpressions.Regex> dog)
            {
                this.name = name;
                this.lastname = lastname;
                this.dog = dog;
            }

            public bool Matches(IndexerMethodArguments arguments)
            {
                return (name.Matches(arguments.name) && lastname.Matches(arguments.lastname)) && dog.Matches(arguments.dog);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIndexerMethodMethodInvocationHistory
        {
            bool Matches(IndexerMethodArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IndexerMethodMethodInvocationHistory : IIndexerMethodMethodInvocationHistory
        {
            internal IndexerMethodArguments Arguments;
            internal string Result;
            internal global::System.Exception? Exception;
            public IndexerMethodMethodInvocationHistory(IndexerMethodArguments Arguments, string Result, global::System.Exception? Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(IndexerMethodArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IndexerMethodMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IIndexerMethodMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IIndexerMethodMethodInvocationHistory>();
            internal void Add(IIndexerMethodMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(IndexerMethodArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class IndexerMethodMethodInvocationImposterGroup
        {
            internal static IndexerMethodMethodInvocationImposterGroup Default = new IndexerMethodMethodInvocationImposterGroup(new IndexerMethodArgumentsCriteria(global::Imposter.Abstractions.Arg<int>.Any(), global::Imposter.Abstractions.Arg<string>.Any(), global::Imposter.Abstractions.Arg<global::System.Text.RegularExpressions.Regex>.Any()));
            internal IndexerMethodArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter? _lastestInvocationImposter;
            public IndexerMethodMethodInvocationImposterGroup(IndexerMethodArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                if (_invocationImposters.TryDequeue(out var invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public string Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int name, string lastname, in global::System.Text.RegularExpressions.Regex dog)
            {
                var invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, name, lastname, in dog);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private IndexerMethodDelegate? _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<IndexerMethodCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<IndexerMethodCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public string Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int name, string lastname, in global::System.Text.RegularExpressions.Regex dog)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    string result = _resultGenerator.Invoke(name, lastname, in dog);
                    foreach (var callback in _callbacks)
                    {
                        callback(name, lastname, in dog);
                    }

                    return result;
                }

                internal void Callback(IndexerMethodCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(IndexerMethodDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(string value)
                {
                    _resultGenerator = (int name, string lastname, in global::System.Text.RegularExpressions.Regex dog) =>
                    {
                        return value;
                    };
                }

                internal void Throws(IndexerMethodExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (int name, string lastname, in global::System.Text.RegularExpressions.Regex dog) =>
                    {
                        throw exceptionGenerator(name, lastname, in dog);
                    };
                }

                internal static string DefaultResultGenerator(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog)
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIndexerMethodMethodInvocationImposterGroupCallback
        {
            IIndexerMethodMethodInvocationImposterGroupContinuation Callback(IndexerMethodCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIndexerMethodMethodInvocationImposterGroupContinuation : IIndexerMethodMethodInvocationImposterGroupCallback
        {
            IIndexerMethodMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIndexerMethodMethodInvocationImposterGroup : IIndexerMethodMethodInvocationImposterGroupCallback
        {
            IIndexerMethodMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IIndexerMethodMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IIndexerMethodMethodInvocationImposterGroupContinuation Throws(IndexerMethodExceptionGeneratorDelegate exceptionGenerator);
            IIndexerMethodMethodInvocationImposterGroupContinuation Returns(IndexerMethodDelegate resultGenerator);
            IIndexerMethodMethodInvocationImposterGroupContinuation Returns(string value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IndexerMethodInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIndexerMethodMethodImposterBuilder : IIndexerMethodMethodInvocationImposterGroup, IIndexerMethodMethodInvocationImposterGroupCallback, IndexerMethodInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IndexerMethodMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IndexerMethodMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<IndexerMethodMethodInvocationImposterGroup>();
            private readonly IndexerMethodMethodInvocationHistoryCollection _indexerMethodMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public IndexerMethodMethodImposter(IndexerMethodMethodInvocationHistoryCollection _indexerMethodMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._indexerMethodMethodInvocationHistoryCollection = _indexerMethodMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(IndexerMethodArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private IndexerMethodMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(IndexerMethodArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public string Invoke(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog)
            {
                var arguments = new IndexerMethodArguments(name, lastname, dog);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)");
                    }

                    matchingInvocationImposterGroup = IndexerMethodMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "string IIndexerSetupPoc.IndexerMethod(int name, string lastname, in Regex dog)", name, lastname, in dog);
                    _indexerMethodMethodInvocationHistoryCollection.Add(new IndexerMethodMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _indexerMethodMethodInvocationHistoryCollection.Add(new IndexerMethodMethodInvocationHistory(arguments, default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IIndexerMethodMethodImposterBuilder, IIndexerMethodMethodInvocationImposterGroupContinuation
            {
                private readonly IndexerMethodMethodImposter _imposter;
                private readonly IndexerMethodMethodInvocationHistoryCollection _indexerMethodMethodInvocationHistoryCollection;
                private readonly IndexerMethodArgumentsCriteria _argumentsCriteria;
                private readonly IndexerMethodMethodInvocationImposterGroup _invocationImposterGroup;
                private IndexerMethodMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(IndexerMethodMethodImposter _imposter, IndexerMethodMethodInvocationHistoryCollection _indexerMethodMethodInvocationHistoryCollection, IndexerMethodArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._indexerMethodMethodInvocationHistoryCollection = _indexerMethodMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new IndexerMethodMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((int name, string lastname, in global::System.Text.RegularExpressions.Regex dog) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((int name, string lastname, in global::System.Text.RegularExpressions.Regex dog) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroup.Throws(IndexerMethodExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((int name, string lastname, in global::System.Text.RegularExpressions.Regex dog) =>
                    {
                        throw exceptionGenerator.Invoke(name, lastname, in dog);
                    });
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroupCallback.Callback(IndexerMethodCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroup.Returns(IndexerMethodDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroupContinuation IIndexerMethodMethodInvocationImposterGroup.Returns(string value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IIndexerMethodMethodInvocationImposterGroup IIndexerMethodMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void IndexerMethodInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _indexerMethodMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        public IIndexerSetupPocImposter(global::Imposter.Abstractions.ImposterMode invocationBehavior = global::Imposter.Abstractions.ImposterMode.Implicit)
        {
            this._indexerMethodMethodImposter = new IndexerMethodMethodImposter(_indexerMethodMethodInvocationHistoryCollection, invocationBehavior);
            this._imposterInstance = new ImposterTargetInstance(this);
            this._invocationBehavior = invocationBehavior;
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class ImposterTargetInstance : global::Imposter.Tests.Shared.IIndexerSetupPoc
        {
            IIndexerSetupPocImposter _imposter;
            public ImposterTargetInstance(IIndexerSetupPocImposter _imposter)
            {
                this._imposter = _imposter;
            }

            public string IndexerMethod(int name, string lastname, in global::System.Text.RegularExpressions.Regex dog)
            {
                return _imposter._indexerMethodMethodImposter.Invoke(name, lastname, in dog);
            }
        }
    }
}
#nullable restore
#pragma warning restore CS8608
