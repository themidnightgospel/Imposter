// <auto-generated />
#pragma warning disable nullable
using global::System;
using global::System.Linq;
using global::System.Collections.Generic;
using global::System.Threading.Tasks;
using global::System.Diagnostics;
using global::System.Runtime.CompilerServices;
using global::Imposter.Abstractions;
using global::System.Collections.Concurrent;
using global::Imposter.Tests.Docs.Index;

namespace Imposter.Tests.Docs.Index
{
    [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
    public sealed class IQuickStartServiceImposter : global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Docs.Index.IQuickStartService>
    {
        private readonly GetNumberMethodImposter _getNumberMethodImposter;
        private readonly IncrementMethodImposter _incrementMethodImposter;
        private readonly GetNumberAsyncMethodImposter _getNumberAsyncMethodImposter;
        private readonly DoWorkAsyncMethodImposter _doWorkAsyncMethodImposter;
        private readonly CombineMethodImposter _combineMethodImposter;
        private readonly VirtualComputeMethodImposter _virtualComputeMethodImposter;
        private readonly GetNumberMethodInvocationHistoryCollection _getNumberMethodInvocationHistoryCollection = new GetNumberMethodInvocationHistoryCollection();
        private readonly IncrementMethodInvocationHistoryCollection _incrementMethodInvocationHistoryCollection = new IncrementMethodInvocationHistoryCollection();
        private readonly GetNumberAsyncMethodInvocationHistoryCollection _getNumberAsyncMethodInvocationHistoryCollection = new GetNumberAsyncMethodInvocationHistoryCollection();
        private readonly DoWorkAsyncMethodInvocationHistoryCollection _doWorkAsyncMethodInvocationHistoryCollection = new DoWorkAsyncMethodInvocationHistoryCollection();
        private readonly CombineMethodInvocationHistoryCollection _combineMethodInvocationHistoryCollection = new CombineMethodInvocationHistoryCollection();
        private readonly VirtualComputeMethodInvocationHistoryCollection _virtualComputeMethodInvocationHistoryCollection = new VirtualComputeMethodInvocationHistoryCollection();
        public IGetNumberMethodImposterBuilder GetNumber()
        {
            return new GetNumberMethodImposter.Builder(_getNumberMethodImposter, _getNumberMethodInvocationHistoryCollection);
        }

        public IIncrementMethodImposterBuilder Increment(global::Imposter.Abstractions.Arg<int> v)
        {
            return new IncrementMethodImposter.Builder(_incrementMethodImposter, _incrementMethodInvocationHistoryCollection, new IncrementArgumentsCriteria(v));
        }

        public IGetNumberAsyncMethodImposterBuilder GetNumberAsync()
        {
            return new GetNumberAsyncMethodImposter.Builder(_getNumberAsyncMethodImposter, _getNumberAsyncMethodInvocationHistoryCollection);
        }

        public IDoWorkAsyncMethodImposterBuilder DoWorkAsync()
        {
            return new DoWorkAsyncMethodImposter.Builder(_doWorkAsyncMethodImposter, _doWorkAsyncMethodInvocationHistoryCollection);
        }

        public ICombineMethodImposterBuilder Combine(global::Imposter.Abstractions.Arg<int> a, global::Imposter.Abstractions.Arg<int> b)
        {
            return new CombineMethodImposter.Builder(_combineMethodImposter, _combineMethodInvocationHistoryCollection, new CombineArgumentsCriteria(a, b));
        }

        public IVirtualComputeMethodImposterBuilder VirtualCompute(global::Imposter.Abstractions.Arg<int> v)
        {
            return new VirtualComputeMethodImposter.Builder(_virtualComputeMethodImposter, _virtualComputeMethodInvocationHistoryCollection, new VirtualComputeArgumentsCriteria(v));
        }

        private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
        private ImposterTargetInstance _imposterInstance;
        global::Imposter.Tests.Docs.Index.IQuickStartService global::Imposter.Abstractions.IHaveImposterInstance<global::Imposter.Tests.Docs.Index.IQuickStartService>.Instance()
        {
            return _imposterInstance;
        }

        // int IQuickStartService.Combine(int a, int b)
        public delegate int CombineDelegate(int a, int b);
        // int IQuickStartService.Combine(int a, int b)
        public delegate void CombineCallbackDelegate(int a, int b);
        // int IQuickStartService.Combine(int a, int b)
        public delegate global::System.Exception CombineExceptionGeneratorDelegate(int a, int b);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class CombineArguments
        {
            public int a;
            public int b;
            internal CombineArguments(int a, int b)
            {
                this.a = a;
                this.b = b;
            }
        }

        // int IQuickStartService.Combine(int a, int b)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class CombineArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<int> a { get; }
            public global::Imposter.Abstractions.Arg<int> b { get; }

            public CombineArgumentsCriteria(global::Imposter.Abstractions.Arg<int> a, global::Imposter.Abstractions.Arg<int> b)
            {
                this.a = a;
                this.b = b;
            }

            public bool Matches(CombineArguments arguments)
            {
                return a.Matches(arguments.a) && b.Matches(arguments.b);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICombineMethodInvocationHistory
        {
            bool Matches(CombineArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CombineMethodInvocationHistory : ICombineMethodInvocationHistory
        {
            internal CombineArguments Arguments;
            internal int Result;
            internal global::System.Exception Exception;
            public CombineMethodInvocationHistory(CombineArguments Arguments, int Result, global::System.Exception Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(CombineArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CombineMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<ICombineMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<ICombineMethodInvocationHistory>();
            internal void Add(ICombineMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(CombineArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }
        }

        // int IQuickStartService.Combine(int a, int b)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class CombineMethodInvocationImposterGroup
        {
            internal static CombineMethodInvocationImposterGroup Default = new CombineMethodInvocationImposterGroup(new CombineArgumentsCriteria(global::Imposter.Abstractions.Arg<int>.Any(), global::Imposter.Abstractions.Arg<int>.Any()));
            internal CombineArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public CombineMethodInvocationImposterGroup(CombineArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int a, int b)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, a, b);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private CombineDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<CombineCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<CombineCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int a, int b)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(a, b);
                    foreach (var callback in _callbacks)
                    {
                        callback(a, b);
                    }

                    return result;
                }

                internal void Callback(CombineCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(CombineDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (int a, int b) =>
                    {
                        return value;
                    };
                }

                internal void Throws(CombineExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (int a, int b) =>
                    {
                        throw exceptionGenerator(a, b);
                    };
                }

                internal static int DefaultResultGenerator(int a, int b)
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICombineMethodInvocationImposterGroupCallback
        {
            ICombineMethodInvocationImposterGroupContinuation Callback(CombineCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICombineMethodInvocationImposterGroupContinuation : ICombineMethodInvocationImposterGroupCallback
        {
            ICombineMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface ICombineMethodInvocationImposterGroup : ICombineMethodInvocationImposterGroupCallback
        {
            ICombineMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            ICombineMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            ICombineMethodInvocationImposterGroupContinuation Throws(CombineExceptionGeneratorDelegate exceptionGenerator);
            ICombineMethodInvocationImposterGroupContinuation Returns(CombineDelegate resultGenerator);
            ICombineMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface CombineInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // int IQuickStartService.Combine(int a, int b)
        public interface ICombineMethodImposterBuilder : ICombineMethodInvocationImposterGroup, ICombineMethodInvocationImposterGroupCallback, CombineInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class CombineMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<CombineMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<CombineMethodInvocationImposterGroup>();
            private readonly CombineMethodInvocationHistoryCollection _combineMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public CombineMethodImposter(CombineMethodInvocationHistoryCollection _combineMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._combineMethodInvocationHistoryCollection = _combineMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(CombineArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private CombineMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(CombineArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(int a, int b)
            {
                var arguments = new CombineArguments(a, b);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IQuickStartService.Combine(int a, int b)");
                    }

                    matchingInvocationImposterGroup = CombineMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IQuickStartService.Combine(int a, int b)", a, b);
                    _combineMethodInvocationHistoryCollection.Add(new CombineMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _combineMethodInvocationHistoryCollection.Add(new CombineMethodInvocationHistory(arguments, default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : ICombineMethodImposterBuilder, ICombineMethodInvocationImposterGroupContinuation
            {
                private readonly CombineMethodImposter _imposter;
                private readonly CombineMethodInvocationHistoryCollection _combineMethodInvocationHistoryCollection;
                private readonly CombineArgumentsCriteria _argumentsCriteria;
                private readonly CombineMethodInvocationImposterGroup _invocationImposterGroup;
                private CombineMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(CombineMethodImposter _imposter, CombineMethodInvocationHistoryCollection _combineMethodInvocationHistoryCollection, CombineArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._combineMethodInvocationHistoryCollection = _combineMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new CombineMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((int a, int b) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((int a, int b) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroup.Throws(CombineExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((int a, int b) =>
                    {
                        throw exceptionGenerator.Invoke(a, b);
                    });
                    return this;
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroupCallback.Callback(CombineCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroup.Returns(CombineDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                ICombineMethodInvocationImposterGroupContinuation ICombineMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                ICombineMethodInvocationImposterGroup ICombineMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void CombineInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _combineMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        // Task IQuickStartService.DoWorkAsync()
        public delegate global::System.Threading.Tasks.Task DoWorkAsyncDelegate();
        // Task IQuickStartService.DoWorkAsync()
        public delegate global::System.Threading.Tasks.Task DoWorkAsyncCallbackDelegate();
        // Task IQuickStartService.DoWorkAsync()
        public delegate global::System.Exception DoWorkAsyncExceptionGeneratorDelegate();
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoWorkAsyncMethodInvocationHistory
        {
            bool Matches();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoWorkAsyncMethodInvocationHistory : IDoWorkAsyncMethodInvocationHistory
        {
            internal global::System.Threading.Tasks.Task Result;
            internal global::System.Exception Exception;
            public DoWorkAsyncMethodInvocationHistory(global::System.Threading.Tasks.Task Result, global::System.Exception Exception)
            {
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches()
            {
                return true;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoWorkAsyncMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IDoWorkAsyncMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IDoWorkAsyncMethodInvocationHistory>();
            internal void Add(IDoWorkAsyncMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count()
            {
                return _invocationHistory.Count(it => it.Matches());
            }
        }

        // Task IQuickStartService.DoWorkAsync()
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class DoWorkAsyncMethodInvocationImposterGroup
        {
            internal static DoWorkAsyncMethodInvocationImposterGroup Default = new DoWorkAsyncMethodInvocationImposterGroup();
            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public DoWorkAsyncMethodInvocationImposterGroup()
            {
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public global::System.Threading.Tasks.Task Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private DoWorkAsyncDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<DoWorkAsyncCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<DoWorkAsyncCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public global::System.Threading.Tasks.Task Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    global::System.Threading.Tasks.Task result = _resultGenerator.Invoke();
                    foreach (var callback in _callbacks)
                    {
                        callback();
                    }

                    return result;
                }

                internal void Callback(DoWorkAsyncCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(DoWorkAsyncDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(global::System.Threading.Tasks.Task value)
                {
                    _resultGenerator = () =>
                    {
                        return value;
                    };
                }

                internal void Throws(DoWorkAsyncExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = () =>
                    {
                        throw exceptionGenerator();
                    };
                }

                internal void ThrowsAsync(global::System.Exception exception)
                {
                    _resultGenerator = () =>
                    {
                        return global::System.Threading.Tasks.Task.FromException(exception);
                    };
                }

                internal static async global::System.Threading.Tasks.Task DefaultResultGenerator()
                {
                    return;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoWorkAsyncMethodInvocationImposterGroupCallback
        {
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Callback(DoWorkAsyncCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoWorkAsyncMethodInvocationImposterGroupContinuation : IDoWorkAsyncMethodInvocationImposterGroupCallback
        {
            IDoWorkAsyncMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IDoWorkAsyncMethodInvocationImposterGroup : IDoWorkAsyncMethodInvocationImposterGroupCallback
        {
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Throws(DoWorkAsyncExceptionGeneratorDelegate exceptionGenerator);
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Returns(DoWorkAsyncDelegate resultGenerator);
            IDoWorkAsyncMethodInvocationImposterGroupContinuation Returns(global::System.Threading.Tasks.Task value);
            IDoWorkAsyncMethodInvocationImposterGroupContinuation ThrowsAsync(global::System.Exception exception);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface DoWorkAsyncInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // Task IQuickStartService.DoWorkAsync()
        public interface IDoWorkAsyncMethodImposterBuilder : IDoWorkAsyncMethodInvocationImposterGroup, IDoWorkAsyncMethodInvocationImposterGroupCallback, DoWorkAsyncInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class DoWorkAsyncMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<DoWorkAsyncMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<DoWorkAsyncMethodInvocationImposterGroup>();
            private readonly DoWorkAsyncMethodInvocationHistoryCollection _doWorkAsyncMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public DoWorkAsyncMethodImposter(DoWorkAsyncMethodInvocationHistoryCollection _doWorkAsyncMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._doWorkAsyncMethodInvocationHistoryCollection = _doWorkAsyncMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup()
            {
                return FindMatchingInvocationImposterGroup() != null;
            }

            private DoWorkAsyncMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup()
            {
                if (_invocationImposters.TryPeek(out var invocationImposterGroup))
                    return invocationImposterGroup;
                else
                    return null;
            }

            public global::System.Threading.Tasks.Task Invoke()
            {
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup();
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("Task IQuickStartService.DoWorkAsync()");
                    }

                    matchingInvocationImposterGroup = DoWorkAsyncMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "Task IQuickStartService.DoWorkAsync()");
                    _doWorkAsyncMethodInvocationHistoryCollection.Add(new DoWorkAsyncMethodInvocationHistory(result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _doWorkAsyncMethodInvocationHistoryCollection.Add(new DoWorkAsyncMethodInvocationHistory(default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IDoWorkAsyncMethodImposterBuilder, IDoWorkAsyncMethodInvocationImposterGroupContinuation
            {
                private readonly DoWorkAsyncMethodImposter _imposter;
                private readonly DoWorkAsyncMethodInvocationHistoryCollection _doWorkAsyncMethodInvocationHistoryCollection;
                private readonly DoWorkAsyncMethodInvocationImposterGroup _invocationImposterGroup;
                private DoWorkAsyncMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(DoWorkAsyncMethodImposter _imposter, DoWorkAsyncMethodInvocationHistoryCollection _doWorkAsyncMethodInvocationHistoryCollection)
                {
                    this._imposter = _imposter;
                    this._doWorkAsyncMethodInvocationHistoryCollection = _doWorkAsyncMethodInvocationHistoryCollection;
                    this._invocationImposterGroup = new DoWorkAsyncMethodInvocationImposterGroup();
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.Throws(DoWorkAsyncExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exceptionGenerator.Invoke();
                    });
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroupCallback.Callback(DoWorkAsyncCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.Returns(DoWorkAsyncDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.Returns(global::System.Threading.Tasks.Task value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroupContinuation IDoWorkAsyncMethodInvocationImposterGroup.ThrowsAsync(global::System.Exception exception)
                {
                    _currentInvocationImposter.ThrowsAsync(exception);
                    return this;
                }

                IDoWorkAsyncMethodInvocationImposterGroup IDoWorkAsyncMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void DoWorkAsyncInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _doWorkAsyncMethodInvocationHistoryCollection.Count();
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        // int IQuickStartService.GetNumber()
        public delegate int GetNumberDelegate();
        // int IQuickStartService.GetNumber()
        public delegate void GetNumberCallbackDelegate();
        // int IQuickStartService.GetNumber()
        public delegate global::System.Exception GetNumberExceptionGeneratorDelegate();
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberMethodInvocationHistory
        {
            bool Matches();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberMethodInvocationHistory : IGetNumberMethodInvocationHistory
        {
            internal int Result;
            internal global::System.Exception Exception;
            public GetNumberMethodInvocationHistory(int Result, global::System.Exception Exception)
            {
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches()
            {
                return true;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IGetNumberMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IGetNumberMethodInvocationHistory>();
            internal void Add(IGetNumberMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count()
            {
                return _invocationHistory.Count(it => it.Matches());
            }
        }

        // int IQuickStartService.GetNumber()
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class GetNumberMethodInvocationImposterGroup
        {
            internal static GetNumberMethodInvocationImposterGroup Default = new GetNumberMethodInvocationImposterGroup();
            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public GetNumberMethodInvocationImposterGroup()
            {
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private GetNumberDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<GetNumberCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<GetNumberCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke();
                    foreach (var callback in _callbacks)
                    {
                        callback();
                    }

                    return result;
                }

                internal void Callback(GetNumberCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(GetNumberDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = () =>
                    {
                        return value;
                    };
                }

                internal void Throws(GetNumberExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = () =>
                    {
                        throw exceptionGenerator();
                    };
                }

                internal static int DefaultResultGenerator()
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberMethodInvocationImposterGroupCallback
        {
            IGetNumberMethodInvocationImposterGroupContinuation Callback(GetNumberCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberMethodInvocationImposterGroupContinuation : IGetNumberMethodInvocationImposterGroupCallback
        {
            IGetNumberMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberMethodInvocationImposterGroup : IGetNumberMethodInvocationImposterGroupCallback
        {
            IGetNumberMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IGetNumberMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IGetNumberMethodInvocationImposterGroupContinuation Throws(GetNumberExceptionGeneratorDelegate exceptionGenerator);
            IGetNumberMethodInvocationImposterGroupContinuation Returns(GetNumberDelegate resultGenerator);
            IGetNumberMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface GetNumberInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // int IQuickStartService.GetNumber()
        public interface IGetNumberMethodImposterBuilder : IGetNumberMethodInvocationImposterGroup, IGetNumberMethodInvocationImposterGroupCallback, GetNumberInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<GetNumberMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<GetNumberMethodInvocationImposterGroup>();
            private readonly GetNumberMethodInvocationHistoryCollection _getNumberMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public GetNumberMethodImposter(GetNumberMethodInvocationHistoryCollection _getNumberMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._getNumberMethodInvocationHistoryCollection = _getNumberMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup()
            {
                return FindMatchingInvocationImposterGroup() != null;
            }

            private GetNumberMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup()
            {
                if (_invocationImposters.TryPeek(out var invocationImposterGroup))
                    return invocationImposterGroup;
                else
                    return null;
            }

            public int Invoke()
            {
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup();
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IQuickStartService.GetNumber()");
                    }

                    matchingInvocationImposterGroup = GetNumberMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IQuickStartService.GetNumber()");
                    _getNumberMethodInvocationHistoryCollection.Add(new GetNumberMethodInvocationHistory(result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _getNumberMethodInvocationHistoryCollection.Add(new GetNumberMethodInvocationHistory(default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IGetNumberMethodImposterBuilder, IGetNumberMethodInvocationImposterGroupContinuation
            {
                private readonly GetNumberMethodImposter _imposter;
                private readonly GetNumberMethodInvocationHistoryCollection _getNumberMethodInvocationHistoryCollection;
                private readonly GetNumberMethodInvocationImposterGroup _invocationImposterGroup;
                private GetNumberMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(GetNumberMethodImposter _imposter, GetNumberMethodInvocationHistoryCollection _getNumberMethodInvocationHistoryCollection)
                {
                    this._imposter = _imposter;
                    this._getNumberMethodInvocationHistoryCollection = _getNumberMethodInvocationHistoryCollection;
                    this._invocationImposterGroup = new GetNumberMethodInvocationImposterGroup();
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroup.Throws(GetNumberExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exceptionGenerator.Invoke();
                    });
                    return this;
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroupCallback.Callback(GetNumberCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroup.Returns(GetNumberDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IGetNumberMethodInvocationImposterGroupContinuation IGetNumberMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IGetNumberMethodInvocationImposterGroup IGetNumberMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void GetNumberInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _getNumberMethodInvocationHistoryCollection.Count();
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        // Task<int> IQuickStartService.GetNumberAsync()
        public delegate global::System.Threading.Tasks.Task<int> GetNumberAsyncDelegate();
        // Task<int> IQuickStartService.GetNumberAsync()
        public delegate global::System.Threading.Tasks.Task GetNumberAsyncCallbackDelegate();
        // Task<int> IQuickStartService.GetNumberAsync()
        public delegate global::System.Exception GetNumberAsyncExceptionGeneratorDelegate();
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberAsyncMethodInvocationHistory
        {
            bool Matches();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberAsyncMethodInvocationHistory : IGetNumberAsyncMethodInvocationHistory
        {
            internal global::System.Threading.Tasks.Task<int> Result;
            internal global::System.Exception Exception;
            public GetNumberAsyncMethodInvocationHistory(global::System.Threading.Tasks.Task<int> Result, global::System.Exception Exception)
            {
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches()
            {
                return true;
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberAsyncMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IGetNumberAsyncMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IGetNumberAsyncMethodInvocationHistory>();
            internal void Add(IGetNumberAsyncMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count()
            {
                return _invocationHistory.Count(it => it.Matches());
            }
        }

        // Task<int> IQuickStartService.GetNumberAsync()
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class GetNumberAsyncMethodInvocationImposterGroup
        {
            internal static GetNumberAsyncMethodInvocationImposterGroup Default = new GetNumberAsyncMethodInvocationImposterGroup();
            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public GetNumberAsyncMethodInvocationImposterGroup()
            {
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public global::System.Threading.Tasks.Task<int> Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private GetNumberAsyncDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<GetNumberAsyncCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<GetNumberAsyncCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public global::System.Threading.Tasks.Task<int> Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    global::System.Threading.Tasks.Task<int> result = _resultGenerator.Invoke();
                    foreach (var callback in _callbacks)
                    {
                        callback();
                    }

                    return result;
                }

                internal void Callback(GetNumberAsyncCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(GetNumberAsyncDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(global::System.Threading.Tasks.Task<int> value)
                {
                    _resultGenerator = () =>
                    {
                        return value;
                    };
                }

                internal void ReturnsAsync(int value)
                {
                    _resultGenerator = () =>
                    {
                        return global::System.Threading.Tasks.Task.FromResult(value);
                    };
                }

                internal void Throws(GetNumberAsyncExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = () =>
                    {
                        throw exceptionGenerator();
                    };
                }

                internal void ThrowsAsync(global::System.Exception exception)
                {
                    _resultGenerator = () =>
                    {
                        return global::System.Threading.Tasks.Task.FromException<int>(exception);
                    };
                }

                internal static async global::System.Threading.Tasks.Task<int> DefaultResultGenerator()
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberAsyncMethodInvocationImposterGroupCallback
        {
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Callback(GetNumberAsyncCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberAsyncMethodInvocationImposterGroupContinuation : IGetNumberAsyncMethodInvocationImposterGroupCallback
        {
            IGetNumberAsyncMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IGetNumberAsyncMethodInvocationImposterGroup : IGetNumberAsyncMethodInvocationImposterGroupCallback
        {
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Throws(GetNumberAsyncExceptionGeneratorDelegate exceptionGenerator);
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Returns(GetNumberAsyncDelegate resultGenerator);
            IGetNumberAsyncMethodInvocationImposterGroupContinuation Returns(global::System.Threading.Tasks.Task<int> value);
            IGetNumberAsyncMethodInvocationImposterGroupContinuation ReturnsAsync(int value);
            IGetNumberAsyncMethodInvocationImposterGroupContinuation ThrowsAsync(global::System.Exception exception);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface GetNumberAsyncInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // Task<int> IQuickStartService.GetNumberAsync()
        public interface IGetNumberAsyncMethodImposterBuilder : IGetNumberAsyncMethodInvocationImposterGroup, IGetNumberAsyncMethodInvocationImposterGroupCallback, GetNumberAsyncInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class GetNumberAsyncMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<GetNumberAsyncMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<GetNumberAsyncMethodInvocationImposterGroup>();
            private readonly GetNumberAsyncMethodInvocationHistoryCollection _getNumberAsyncMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public GetNumberAsyncMethodImposter(GetNumberAsyncMethodInvocationHistoryCollection _getNumberAsyncMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._getNumberAsyncMethodInvocationHistoryCollection = _getNumberAsyncMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup()
            {
                return FindMatchingInvocationImposterGroup() != null;
            }

            private GetNumberAsyncMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup()
            {
                if (_invocationImposters.TryPeek(out var invocationImposterGroup))
                    return invocationImposterGroup;
                else
                    return null;
            }

            public global::System.Threading.Tasks.Task<int> Invoke()
            {
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup();
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("Task<int> IQuickStartService.GetNumberAsync()");
                    }

                    matchingInvocationImposterGroup = GetNumberAsyncMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "Task<int> IQuickStartService.GetNumberAsync()");
                    _getNumberAsyncMethodInvocationHistoryCollection.Add(new GetNumberAsyncMethodInvocationHistory(result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _getNumberAsyncMethodInvocationHistoryCollection.Add(new GetNumberAsyncMethodInvocationHistory(default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IGetNumberAsyncMethodImposterBuilder, IGetNumberAsyncMethodInvocationImposterGroupContinuation
            {
                private readonly GetNumberAsyncMethodImposter _imposter;
                private readonly GetNumberAsyncMethodInvocationHistoryCollection _getNumberAsyncMethodInvocationHistoryCollection;
                private readonly GetNumberAsyncMethodInvocationImposterGroup _invocationImposterGroup;
                private GetNumberAsyncMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(GetNumberAsyncMethodImposter _imposter, GetNumberAsyncMethodInvocationHistoryCollection _getNumberAsyncMethodInvocationHistoryCollection)
                {
                    this._imposter = _imposter;
                    this._getNumberAsyncMethodInvocationHistoryCollection = _getNumberAsyncMethodInvocationHistoryCollection;
                    this._invocationImposterGroup = new GetNumberAsyncMethodInvocationImposterGroup();
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.Throws(GetNumberAsyncExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws(() =>
                    {
                        throw exceptionGenerator.Invoke();
                    });
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroupCallback.Callback(GetNumberAsyncCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.Returns(GetNumberAsyncDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.Returns(global::System.Threading.Tasks.Task<int> value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.ReturnsAsync(int value)
                {
                    _currentInvocationImposter.ReturnsAsync(value);
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroupContinuation IGetNumberAsyncMethodInvocationImposterGroup.ThrowsAsync(global::System.Exception exception)
                {
                    _currentInvocationImposter.ThrowsAsync(exception);
                    return this;
                }

                IGetNumberAsyncMethodInvocationImposterGroup IGetNumberAsyncMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void GetNumberAsyncInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _getNumberAsyncMethodInvocationHistoryCollection.Count();
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        // int IQuickStartService.Increment(int v)
        public delegate int IncrementDelegate(int v);
        // int IQuickStartService.Increment(int v)
        public delegate void IncrementCallbackDelegate(int v);
        // int IQuickStartService.Increment(int v)
        public delegate global::System.Exception IncrementExceptionGeneratorDelegate(int v);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IncrementArguments
        {
            public int v;
            internal IncrementArguments(int v)
            {
                this.v = v;
            }
        }

        // int IQuickStartService.Increment(int v)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class IncrementArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<int> v { get; }

            public IncrementArgumentsCriteria(global::Imposter.Abstractions.Arg<int> v)
            {
                this.v = v;
            }

            public bool Matches(IncrementArguments arguments)
            {
                return v.Matches(arguments.v);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIncrementMethodInvocationHistory
        {
            bool Matches(IncrementArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IncrementMethodInvocationHistory : IIncrementMethodInvocationHistory
        {
            internal IncrementArguments Arguments;
            internal int Result;
            internal global::System.Exception Exception;
            public IncrementMethodInvocationHistory(IncrementArguments Arguments, int Result, global::System.Exception Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(IncrementArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IncrementMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IIncrementMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IIncrementMethodInvocationHistory>();
            internal void Add(IIncrementMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(IncrementArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }
        }

        // int IQuickStartService.Increment(int v)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class IncrementMethodInvocationImposterGroup
        {
            internal static IncrementMethodInvocationImposterGroup Default = new IncrementMethodInvocationImposterGroup(new IncrementArgumentsCriteria(global::Imposter.Abstractions.Arg<int>.Any()));
            internal IncrementArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public IncrementMethodInvocationImposterGroup(IncrementArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int v)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, v);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private IncrementDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<IncrementCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<IncrementCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int v)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(v);
                    foreach (var callback in _callbacks)
                    {
                        callback(v);
                    }

                    return result;
                }

                internal void Callback(IncrementCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(IncrementDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (int v) =>
                    {
                        return value;
                    };
                }

                internal void Throws(IncrementExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (int v) =>
                    {
                        throw exceptionGenerator(v);
                    };
                }

                internal static int DefaultResultGenerator(int v)
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIncrementMethodInvocationImposterGroupCallback
        {
            IIncrementMethodInvocationImposterGroupContinuation Callback(IncrementCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIncrementMethodInvocationImposterGroupContinuation : IIncrementMethodInvocationImposterGroupCallback
        {
            IIncrementMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IIncrementMethodInvocationImposterGroup : IIncrementMethodInvocationImposterGroupCallback
        {
            IIncrementMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IIncrementMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IIncrementMethodInvocationImposterGroupContinuation Throws(IncrementExceptionGeneratorDelegate exceptionGenerator);
            IIncrementMethodInvocationImposterGroupContinuation Returns(IncrementDelegate resultGenerator);
            IIncrementMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IncrementInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // int IQuickStartService.Increment(int v)
        public interface IIncrementMethodImposterBuilder : IIncrementMethodInvocationImposterGroup, IIncrementMethodInvocationImposterGroupCallback, IncrementInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class IncrementMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IncrementMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<IncrementMethodInvocationImposterGroup>();
            private readonly IncrementMethodInvocationHistoryCollection _incrementMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public IncrementMethodImposter(IncrementMethodInvocationHistoryCollection _incrementMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._incrementMethodInvocationHistoryCollection = _incrementMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(IncrementArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private IncrementMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(IncrementArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(int v)
            {
                var arguments = new IncrementArguments(v);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IQuickStartService.Increment(int v)");
                    }

                    matchingInvocationImposterGroup = IncrementMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IQuickStartService.Increment(int v)", v);
                    _incrementMethodInvocationHistoryCollection.Add(new IncrementMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _incrementMethodInvocationHistoryCollection.Add(new IncrementMethodInvocationHistory(arguments, default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IIncrementMethodImposterBuilder, IIncrementMethodInvocationImposterGroupContinuation
            {
                private readonly IncrementMethodImposter _imposter;
                private readonly IncrementMethodInvocationHistoryCollection _incrementMethodInvocationHistoryCollection;
                private readonly IncrementArgumentsCriteria _argumentsCriteria;
                private readonly IncrementMethodInvocationImposterGroup _invocationImposterGroup;
                private IncrementMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(IncrementMethodImposter _imposter, IncrementMethodInvocationHistoryCollection _incrementMethodInvocationHistoryCollection, IncrementArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._incrementMethodInvocationHistoryCollection = _incrementMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new IncrementMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroup.Throws(IncrementExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw exceptionGenerator.Invoke(v);
                    });
                    return this;
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroupCallback.Callback(IncrementCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroup.Returns(IncrementDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IIncrementMethodInvocationImposterGroupContinuation IIncrementMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IIncrementMethodInvocationImposterGroup IIncrementMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void IncrementInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _incrementMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        // int IQuickStartService.VirtualCompute(int v)
        public delegate int VirtualComputeDelegate(int v);
        // int IQuickStartService.VirtualCompute(int v)
        public delegate void VirtualComputeCallbackDelegate(int v);
        // int IQuickStartService.VirtualCompute(int v)
        public delegate global::System.Exception VirtualComputeExceptionGeneratorDelegate(int v);
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class VirtualComputeArguments
        {
            public int v;
            internal VirtualComputeArguments(int v)
            {
                this.v = v;
            }
        }

        // int IQuickStartService.VirtualCompute(int v)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public class VirtualComputeArgumentsCriteria
        {
            public global::Imposter.Abstractions.Arg<int> v { get; }

            public VirtualComputeArgumentsCriteria(global::Imposter.Abstractions.Arg<int> v)
            {
                this.v = v;
            }

            public bool Matches(VirtualComputeArguments arguments)
            {
                return v.Matches(arguments.v);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IVirtualComputeMethodInvocationHistory
        {
            bool Matches(VirtualComputeArgumentsCriteria criteria);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class VirtualComputeMethodInvocationHistory : IVirtualComputeMethodInvocationHistory
        {
            internal VirtualComputeArguments Arguments;
            internal int Result;
            internal global::System.Exception Exception;
            public VirtualComputeMethodInvocationHistory(VirtualComputeArguments Arguments, int Result, global::System.Exception Exception)
            {
                this.Arguments = Arguments;
                this.Result = Result;
                this.Exception = Exception;
            }

            public bool Matches(VirtualComputeArgumentsCriteria criteria)
            {
                return criteria.Matches(Arguments);
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class VirtualComputeMethodInvocationHistoryCollection
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<IVirtualComputeMethodInvocationHistory> _invocationHistory = new global::System.Collections.Concurrent.ConcurrentStack<IVirtualComputeMethodInvocationHistory>();
            internal void Add(IVirtualComputeMethodInvocationHistory invocationHistory)
            {
                _invocationHistory.Push(invocationHistory);
            }

            internal int Count(VirtualComputeArgumentsCriteria argumentsCriteria)
            {
                return _invocationHistory.Count(it => it.Matches(argumentsCriteria));
            }
        }

        // int IQuickStartService.VirtualCompute(int v)
        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class VirtualComputeMethodInvocationImposterGroup
        {
            internal static VirtualComputeMethodInvocationImposterGroup Default = new VirtualComputeMethodInvocationImposterGroup(new VirtualComputeArgumentsCriteria(global::Imposter.Abstractions.Arg<int>.Any()));
            internal VirtualComputeArgumentsCriteria ArgumentsCriteria { get; }

            private readonly global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentQueue<MethodInvocationImposter>();
            private MethodInvocationImposter _lastestInvocationImposter;
            public VirtualComputeMethodInvocationImposterGroup(VirtualComputeArgumentsCriteria argumentsCriteria)
            {
                ArgumentsCriteria = argumentsCriteria;
            }

            internal MethodInvocationImposter AddInvocationImposter()
            {
                MethodInvocationImposter invocationImposter = new MethodInvocationImposter();
                _invocationImposters.Enqueue(invocationImposter);
                return invocationImposter;
            }

            private MethodInvocationImposter? GetInvocationImposter()
            {
                MethodInvocationImposter invocationImposter;
                if (_invocationImposters.TryDequeue(out invocationImposter))
                {
                    if (!invocationImposter.IsEmpty)
                    {
                        _lastestInvocationImposter = invocationImposter;
                    }

                    return invocationImposter;
                }

                return _lastestInvocationImposter;
            }

            public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int v)
            {
                MethodInvocationImposter invocationImposter = GetInvocationImposter();
                if (invocationImposter == null)
                {
                    if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                    }

                    invocationImposter = MethodInvocationImposter.Default;
                }

                return invocationImposter.Invoke(invocationBehavior, methodDisplayName, v);
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class MethodInvocationImposter
            {
                internal static MethodInvocationImposter Default;
                static MethodInvocationImposter()
                {
                    Default = new MethodInvocationImposter();
                    Default.Returns(DefaultResultGenerator);
                }

                private VirtualComputeDelegate _resultGenerator;
                private readonly global::System.Collections.Concurrent.ConcurrentQueue<VirtualComputeCallbackDelegate> _callbacks = new global::System.Collections.Concurrent.ConcurrentQueue<VirtualComputeCallbackDelegate>();
                internal bool IsEmpty => (_resultGenerator == null) && (_callbacks.Count == 0);

                public int Invoke(global::Imposter.Abstractions.ImposterMode invocationBehavior, string methodDisplayName, int v)
                {
                    if (_resultGenerator == null)
                    {
                        if (invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                        {
                            throw new global::Imposter.Abstractions.MissingImposterException(methodDisplayName);
                        }

                        _resultGenerator = DefaultResultGenerator;
                    }

                    int result = _resultGenerator.Invoke(v);
                    foreach (var callback in _callbacks)
                    {
                        callback(v);
                    }

                    return result;
                }

                internal void Callback(VirtualComputeCallbackDelegate callback)
                {
                    _callbacks.Enqueue(callback);
                }

                internal void Returns(VirtualComputeDelegate resultGenerator)
                {
                    _resultGenerator = resultGenerator;
                }

                internal void Returns(int value)
                {
                    _resultGenerator = (int v) =>
                    {
                        return value;
                    };
                }

                internal void Throws(VirtualComputeExceptionGeneratorDelegate exceptionGenerator)
                {
                    _resultGenerator = (int v) =>
                    {
                        throw exceptionGenerator(v);
                    };
                }

                internal static int DefaultResultGenerator(int v)
                {
                    return default;
                }
            }
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IVirtualComputeMethodInvocationImposterGroupCallback
        {
            IVirtualComputeMethodInvocationImposterGroupContinuation Callback(VirtualComputeCallbackDelegate callback);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IVirtualComputeMethodInvocationImposterGroupContinuation : IVirtualComputeMethodInvocationImposterGroupCallback
        {
            IVirtualComputeMethodInvocationImposterGroup Then();
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface IVirtualComputeMethodInvocationImposterGroup : IVirtualComputeMethodInvocationImposterGroupCallback
        {
            IVirtualComputeMethodInvocationImposterGroupContinuation Throws<TException>()
                where TException : global::System.Exception, new();
            IVirtualComputeMethodInvocationImposterGroupContinuation Throws(global::System.Exception exception);
            IVirtualComputeMethodInvocationImposterGroupContinuation Throws(VirtualComputeExceptionGeneratorDelegate exceptionGenerator);
            IVirtualComputeMethodInvocationImposterGroupContinuation Returns(VirtualComputeDelegate resultGenerator);
            IVirtualComputeMethodInvocationImposterGroupContinuation Returns(int value);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        public interface VirtualComputeInvocationVerifier
        {
            void Called(Count count);
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        // int IQuickStartService.VirtualCompute(int v)
        public interface IVirtualComputeMethodImposterBuilder : IVirtualComputeMethodInvocationImposterGroup, IVirtualComputeMethodInvocationImposterGroupCallback, VirtualComputeInvocationVerifier
        {
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        internal class VirtualComputeMethodImposter
        {
            private readonly global::System.Collections.Concurrent.ConcurrentStack<VirtualComputeMethodInvocationImposterGroup> _invocationImposters = new global::System.Collections.Concurrent.ConcurrentStack<VirtualComputeMethodInvocationImposterGroup>();
            private readonly VirtualComputeMethodInvocationHistoryCollection _virtualComputeMethodInvocationHistoryCollection;
            private readonly global::Imposter.Abstractions.ImposterMode _invocationBehavior;
            public VirtualComputeMethodImposter(VirtualComputeMethodInvocationHistoryCollection _virtualComputeMethodInvocationHistoryCollection, global::Imposter.Abstractions.ImposterMode _invocationBehavior)
            {
                this._virtualComputeMethodInvocationHistoryCollection = _virtualComputeMethodInvocationHistoryCollection;
                this._invocationBehavior = _invocationBehavior;
            }

            public bool HasMatchingInvocationImposterGroup(VirtualComputeArguments arguments)
            {
                return FindMatchingInvocationImposterGroup(arguments) != null;
            }

            private VirtualComputeMethodInvocationImposterGroup? FindMatchingInvocationImposterGroup(VirtualComputeArguments arguments)
            {
                foreach (var invocationImposterGroup in _invocationImposters)
                {
                    if (invocationImposterGroup.ArgumentsCriteria.Matches(arguments))
                        return invocationImposterGroup;
                }

                return null;
            }

            public int Invoke(int v)
            {
                var arguments = new VirtualComputeArguments(v);
                var matchingInvocationImposterGroup = FindMatchingInvocationImposterGroup(arguments);
                if (matchingInvocationImposterGroup == default)
                {
                    if (_invocationBehavior == global::Imposter.Abstractions.ImposterMode.Explicit)
                    {
                        throw new global::Imposter.Abstractions.MissingImposterException("int IQuickStartService.VirtualCompute(int v)");
                    }

                    matchingInvocationImposterGroup = VirtualComputeMethodInvocationImposterGroup.Default;
                }

                try
                {
                    var result = matchingInvocationImposterGroup.Invoke(_invocationBehavior, "int IQuickStartService.VirtualCompute(int v)", v);
                    _virtualComputeMethodInvocationHistoryCollection.Add(new VirtualComputeMethodInvocationHistory(arguments, result, default));
                    return result;
                }
                catch (global::System.Exception ex)
                {
                    _virtualComputeMethodInvocationHistoryCollection.Add(new VirtualComputeMethodInvocationHistory(arguments, default, ex));
                    throw;
                }
            }

            [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
            internal class Builder : IVirtualComputeMethodImposterBuilder, IVirtualComputeMethodInvocationImposterGroupContinuation
            {
                private readonly VirtualComputeMethodImposter _imposter;
                private readonly VirtualComputeMethodInvocationHistoryCollection _virtualComputeMethodInvocationHistoryCollection;
                private readonly VirtualComputeArgumentsCriteria _argumentsCriteria;
                private readonly VirtualComputeMethodInvocationImposterGroup _invocationImposterGroup;
                private VirtualComputeMethodInvocationImposterGroup.MethodInvocationImposter _currentInvocationImposter;
                public Builder(VirtualComputeMethodImposter _imposter, VirtualComputeMethodInvocationHistoryCollection _virtualComputeMethodInvocationHistoryCollection, VirtualComputeArgumentsCriteria _argumentsCriteria)
                {
                    this._imposter = _imposter;
                    this._virtualComputeMethodInvocationHistoryCollection = _virtualComputeMethodInvocationHistoryCollection;
                    this._argumentsCriteria = _argumentsCriteria;
                    this._invocationImposterGroup = new VirtualComputeMethodInvocationImposterGroup(_argumentsCriteria);
                    _imposter._invocationImposters.Push(_invocationImposterGroup);
                    this._currentInvocationImposter = this._invocationImposterGroup.AddInvocationImposter();
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroup.Throws<TException>()
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw new TException();
                    });
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroup.Throws(global::System.Exception exception)
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw exception;
                    });
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroup.Throws(VirtualComputeExceptionGeneratorDelegate exceptionGenerator)
                {
                    _currentInvocationImposter.Throws((int v) =>
                    {
                        throw exceptionGenerator.Invoke(v);
                    });
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroupCallback.Callback(VirtualComputeCallbackDelegate callback)
                {
                    _currentInvocationImposter.Callback(callback);
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroup.Returns(VirtualComputeDelegate resultGenerator)
                {
                    _currentInvocationImposter.Returns(resultGenerator);
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroupContinuation IVirtualComputeMethodInvocationImposterGroup.Returns(int value)
                {
                    _currentInvocationImposter.Returns(value);
                    return this;
                }

                IVirtualComputeMethodInvocationImposterGroup IVirtualComputeMethodInvocationImposterGroupContinuation.Then()
                {
                    this._currentInvocationImposter = _invocationImposterGroup.AddInvocationImposter();
                    return this;
                }

                void VirtualComputeInvocationVerifier.Called(global::Imposter.Abstractions.Count count)
                {
                    var invocationCount = _virtualComputeMethodInvocationHistoryCollection.Count(_argumentsCriteria);
                    if (!count.Matches(invocationCount))
                    {
                        throw new global::Imposter.Abstractions.VerificationFailedException(count, invocationCount);
                    }
                }
            }
        }

        public IQuickStartServiceImposter(global::Imposter.Abstractions.ImposterMode invocationBehavior = global::Imposter.Abstractions.ImposterMode.Implicit)
        {
            this._getNumberMethodImposter = new GetNumberMethodImposter(_getNumberMethodInvocationHistoryCollection, invocationBehavior);
            this._incrementMethodImposter = new IncrementMethodImposter(_incrementMethodInvocationHistoryCollection, invocationBehavior);
            this._getNumberAsyncMethodImposter = new GetNumberAsyncMethodImposter(_getNumberAsyncMethodInvocationHistoryCollection, invocationBehavior);
            this._doWorkAsyncMethodImposter = new DoWorkAsyncMethodImposter(_doWorkAsyncMethodInvocationHistoryCollection, invocationBehavior);
            this._combineMethodImposter = new CombineMethodImposter(_combineMethodInvocationHistoryCollection, invocationBehavior);
            this._virtualComputeMethodImposter = new VirtualComputeMethodImposter(_virtualComputeMethodInvocationHistoryCollection, invocationBehavior);
            this._imposterInstance = new ImposterTargetInstance(this);
            this._invocationBehavior = invocationBehavior;
        }

        [global::System.CodeDom.Compiler.GeneratedCode("Imposter.CodeGenerator", "0.1.0.0")]
        class ImposterTargetInstance : global::Imposter.Tests.Docs.Index.IQuickStartService
        {
            IQuickStartServiceImposter _imposter;
            public ImposterTargetInstance(IQuickStartServiceImposter _imposter)
            {
                this._imposter = _imposter;
            }

            public int GetNumber()
            {
                return _imposter._getNumberMethodImposter.Invoke();
            }

            public int Increment(int v)
            {
                return _imposter._incrementMethodImposter.Invoke(v);
            }

            public global::System.Threading.Tasks.Task<int> GetNumberAsync()
            {
                return _imposter._getNumberAsyncMethodImposter.Invoke();
            }

            public global::System.Threading.Tasks.Task DoWorkAsync()
            {
                return _imposter._doWorkAsyncMethodImposter.Invoke();
            }

            public int Combine(int a, int b)
            {
                return _imposter._combineMethodImposter.Invoke(a, b);
            }

            public int VirtualCompute(int v)
            {
                return _imposter._virtualComputeMethodImposter.Invoke(v);
            }
        }
    }
}
#pragma warning restore nullable
